<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Minimalist Data Wrangling with Python" name="citation_title" />
<meta content="Marek Gagolewski" name="citation_author" />
<meta content="2025" name="citation_date" />
<meta content="2025" name="citation_publication_date" />
<meta content="https://datawranglingpy.gagolewski.com/datawranglingpy.pdf" name="citation_pdf_url" />
<meta content="https://datawranglingpy.gagolewski.com/" name="citation_public_url" />
<meta content="10.5281/zenodo.6451068" name="citation_doi" />
<meta content="Minimalist Data Wrangling with Python is envisaged as a student's first introduction to data science, providing a high-level overview as well as discussing key concepts in detail. We explore methods for cleaning data gathered from different sources, transforming, selecting, and extracting features, performing exploratory data analysis and dimensionality reduction, identifying naturally occurring data clusters, modelling patterns in data, comparing data between groups, and reporting the results. This textbook is a non-profit project. Its online and PDF versions are freely available at https://datawranglingpy.gagolewski.com/." name="citation_abstract" />
<meta content="summary" name="twitter:card" />
<meta content="Minimalist Data Wrangling with Python" name="twitter:title" />
<meta content="Minimalist Data Wrangling with Python" name="og:title" />
<meta content="Minimalist Data Wrangling with Python is envisaged as a student's first introduction to data science, providing a high-level overview as well as discussing key concepts in detail. We explore methods for cleaning data gathered from different sources, transforming, selecting, and extracting features, performing exploratory data analysis and dimensionality reduction, identifying naturally occurring data clusters, modelling patterns in data, comparing data between groups, and reporting the results. This textbook is a non-profit project. Its online and PDF versions are freely available at https://datawranglingpy.gagolewski.com/." name="twitter:description" />
<meta content="Minimalist Data Wrangling with Python is envisaged as a student's first introduction to data science, providing a high-level overview as well as discussing key concepts in detail. We explore methods for cleaning data gathered from different sources, transforming, selecting, and extracting features, performing exploratory data analysis and dimensionality reduction, identifying naturally occurring data clusters, modelling patterns in data, comparing data between groups, and reporting the results. This textbook is a non-profit project. Its online and PDF versions are freely available at https://datawranglingpy.gagolewski.com/." name="og:description" />
<meta content="gagolews/datawranglingpy" name="og:site_name" />
<meta content="https://datawranglingpy.gagolewski.com/" name="og:url" />
<meta content="https://datawranglingpy.gagolewski.com/_images/cover.png" name="twitter:image" />
<meta content="https://datawranglingpy.gagolewski.com/_images/cover.png" name="og:image" />
<meta content="https://datawranglingpy.gagolewski.com/" name="DC.identifier" />
<meta content="Marek Gagolewski" name="DC.publisher" />
<meta content="INDEX,FOLLOW" name="robots" />
<meta content="book" name="og:type" />
<meta content="9780645571912" name="og:book:isbn" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="5. Processing unidimensional data" href="220-transform-vector.html" /><link rel="prev" title="3. Sequential and other types in Python" href="130-sequential.html" />
        <link rel="canonical" href="https://datawranglingpy.gagolewski.com/chapter/210-vector.html" />

    <link rel="shortcut icon" href="https://www.gagolewski.com/_static/img/datawranglingpy.png"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>4. Unidimensional numeric data and their empirical distribution - Minimalist Data Wrangling with Python</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/katex-math.css?v=91adb8b6" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=a4cbedb2" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: red;
  --color-brand-content: #CC3333;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Minimalist Data Wrangling with Python</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">
<div class="sidebar-logo-container">
  <a class="sidebar-brand" href="../index.html"><img class="sidebar-logo" src="https://www.gagolewski.com/_static/img/datawranglingpy.png" alt="Logo"/></a>
</div>

<span class="sidebar-brand-text">
<a class="sidebar-brand" href="../index.html">Minimalist Data Wrangling with Python</a>
</span>
<div class="sidebar-brand">
An open-access textbook<br />
by <a href='https://www.gagolewski.com/' style="display: contents">Marek Gagolewski</a><br />
v1.1.0.9002
</div>
<form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">About</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.gagolewski.com/">Author</a></li>
<li class="toctree-l1"><a class="reference external" href="https://datawranglingpy.gagolewski.com/datawranglingpy.pdf">This book in PDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../order-paper-copy.html">Order a paper copy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/datawranglingpy">Report bugs or typos (GitHub)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/teaching-data">Datasets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://deepr.gagolewski.com/">Deep R programming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Start here</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="000-preface.html">Preface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introducing Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="110-setup.html">1. Getting started with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="120-scalar.html">2. Scalar types and control structures in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="130-sequential.html">3. Sequential and other types in Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Unidimensional data</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">4. Unidimensional numeric data and their empirical distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="220-transform-vector.html">5. Processing unidimensional data</a></li>
<li class="toctree-l1"><a class="reference internal" href="230-distribution.html">6. Continuous probability distributions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Multidimensional data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="310-matrix.html">7. From uni- to multidimensional numeric data</a></li>
<li class="toctree-l1"><a class="reference internal" href="320-transform-matrix.html">8. Processing multidimensional data</a></li>
<li class="toctree-l1"><a class="reference internal" href="330-relationship.html">9. Exploring relationships between variables</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Heterogeneous data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="410-data-frame.html">10. Introducing data frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="420-categorical.html">11. Handling categorical data</a></li>
<li class="toctree-l1"><a class="reference internal" href="430-group-by.html">12. Processing data in groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="440-sql.html">13. Accessing databases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other data types</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="510-text.html">14. Text data</a></li>
<li class="toctree-l1"><a class="reference internal" href="520-missingness.html">15. Missing, censored, and questionable data</a></li>
<li class="toctree-l1"><a class="reference internal" href="530-time-series.html">16. Time series</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="998-changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="999-bibliography.html">References</a></li>
</ul>

</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/gagolews/datawranglingpy" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="unidimensional-numeric-data-and-their-empirical-distribution">
<span id="chap-vector"></span><h1><span class="section-number">4. </span>Unidimensional numeric data and their empirical distribution<a class="headerlink" href="#unidimensional-numeric-data-and-their-empirical-distribution" title="Link to this heading">¶</a></h1>
<blockquote>
<div><p><em>This open-access textbook
is, and will remain, freely available for everyone’s enjoyment
(also in <a class="reference external" href="https://datawranglingpy.gagolewski.com/datawranglingpy.pdf">PDF</a>;
a paper copy can also be <a class="reference internal" href="../order-paper-copy.html"><span class="doc std std-doc">ordered</span></a>).
It is a non-profit project. Although available online, it is a whole course,
and should be read from the beginning to the end.
Refer to the <a class="reference internal" href="000-preface.html#chap-preface"><span class="std std-ref">Preface</span></a> for general introductory remarks. Any
<a class="reference external" href="https://github.com/gagolews/datawranglingpy">bug/typo reports/fixes</a>
are appreciated. Make sure to check out
<a class="reference external" href="https://deepr.gagolewski.com/"><em>Deep R Programming</em></a>
<span id="id1">[<a class="reference internal" href="999-bibliography.html#id2" title="Gagolewski, M. (2025).  Deep R Programming. URL: https://deepr.gagolewski.com/, DOI: 10.5281/zenodo.7490464.">36</a>]</span> too.</em></p>
</div></blockquote>
<p>Our data wrangling adventure starts the moment we get access to
loads of data points representing some measurements, such as industrial
sensor readings, patient body measures, employee salaries, city sizes, etc.</p>
<p>For instance, consider the heights of adult females (in centimetres)
in the longitudinal study
called National Health and Nutrition Examination Survey
(<a class="reference external" href="https://wwwn.cdc.gov/nchs/nhanes/search/datapage.aspx">NHANES</a>)
conducted by the US Centres for Disease Control and Prevention.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">heights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/gagolews/&quot;</span> <span class="o">+</span>
    <span class="s2">&quot;teaching-data/master/marek/nhanes_adult_female_height_2020.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s preview a few observations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">heights</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>  <span class="c1"># the first six values</span>
<span class="c1">## array([160.2, 152.7, 161.2, 157.4, 154.6, 144.7])</span>
</pre></div>
</div>
<p>This is an example of <em>quantitative</em> (numeric) data.
They are in the form of a series of numbers.
It makes sense to apply various mathematical operations on them,
including subtraction, division, taking logarithms, comparing,
and so forth.</p>
<p>Most importantly, here, all the observations are <em>independent</em>
of each other.
Each value represents a different person.
Our data sample consists of 4 221 points on the real line:
a <em>bag</em> of points whose actual ordering does not matter.
We depicted them in <a class="reference internal" href="#fig-heights-jitter"><span class="std std-numref">Figure 4.1</span></a>. However,
we see that merely looking at the <em>raw</em> numbers themselves tells us nothing.
They are too plentiful.</p>
<figure class="align-default" id="id19">
<span id="fig-heights-jitter"></span><img alt="../_images/heights-jitter-1.png" src="../_images/heights-jitter-1.png" />
<figcaption>
<p><span class="caption-number">Figure 4.1 </span><span class="caption-text">The <code class="docutils literal notranslate"><span class="pre">heights</span></code> dataset is comprised of independent points on the real line. We added some jitter on the y-axis for dramatic effects only.</span><a class="headerlink" href="#id19" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>This is why we are interested in studying a multitude of methods
that can bring some insight into the reality behind the numbers.
For example, inspecting their distribution.</p>
<section id="creating-vectors-in-numpy">
<h2><span class="section-number">4.1. </span>Creating vectors in <strong class="program">numpy</strong><a class="headerlink" href="#creating-vectors-in-numpy" title="Link to this heading">¶</a></h2>
<p>In this chapter, we introduce the ways to create <strong class="program">numpy</strong>
vectors, which are an efficient data structure for
storing and operating on numeric data.</p>
<p><a class="reference external" href="https://numpy.org/doc/stable/reference/index.html"><strong class="program">numpy</strong></a>
<span id="id2">[<a class="reference internal" href="999-bibliography.html#id9" title="Harris, C.R. and others. (2020).  Array programming with NumPy. Nature, 585(7825):357–362. DOI: 10.1038/s41586-020-2649-2.">48</a>]</span> is an open-source add-on for numerical computing
written by Travis Oliphant and other developers
in 2005. Still, the project has a much longer
<a class="reference external" href="https://scipy.github.io/old-wiki/pages/History_of_SciPy">history</a>
and stands on the shoulders of many giants
(e.g., concepts from the APL and Fortran languages).</p>
<p><strong class="program">numpy</strong> implements multidimensional arrays
similar to those available in R, S, GNU Octave, Scilab, Julia,
Perl (via <strong class="program">Perl Data Language</strong>),
and some numerical analysis libraries such as <strong class="program">LAPACK</strong>,
<strong class="program">GNU GSL</strong>, etc.</p>
<p>Many other Python packages discussed in this book
are built on top of <strong class="program">numpy</strong>,
including: <strong class="program">scipy</strong> <span id="id3">[<a class="reference internal" href="999-bibliography.html#id8" title="Virtanen, P. and others. (2020).  SciPy 1.0: Fundamental algorithms for scientific computing in Python. Nature Methods, 17:261–272. DOI: 10.1038/s41592-019-0686-2.">97</a>]</span>,
<strong class="program">pandas</strong> <span id="id4">[<a class="reference internal" href="999-bibliography.html#id18" title="McKinney, W. (2022).  Python for Data Analysis. O'Reilly. URL: https://wesmckinney.com/book.">66</a>]</span>, and
<strong class="program">scikit-learn</strong> <span id="id5">[<a class="reference internal" href="999-bibliography.html#id7" title="Pedregosa, F., Varoquaux, G., Gramfort, A., Michel, V., Thirion, B., Grisel, O., Blondel, M., Prettenhofer, P., Weiss, R., Dubourg, V., Vanderplas, J., Passos, A., Cournapeau, D., Brucher, M., Perrot, M., and Duchesnay, E. (2011).  Scikit-learn: Machine learning in Python. Journal of Machine Learning Research, 12:2825–2830.">75</a>]</span>.
This is why we will study it in such a great detail.
In particular, whatever we learn about vectors will be beautifully
transferable to the case of processing columns in data frames<a class="footnote-reference brackets" href="#footnumpygpu" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<div style="margin-top: 1em"></div><p>It is customary to import the <strong class="program">numpy</strong> package under the <code class="docutils literal notranslate"><span class="pre">np</span></code> alias:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</pre></div>
</div>
<p>Our code can now refer to the objects defined therein as
<code class="docutils literal notranslate"><span class="pre">np.spam</span></code>, <code class="docutils literal notranslate"><span class="pre">np.bacon</span></code>, or <code class="docutils literal notranslate"><span class="pre">np.spam</span></code>.</p>
<section id="enumerating-elements">
<h3><span class="section-number">4.1.1. </span>Enumerating elements<a class="headerlink" href="#enumerating-elements" title="Link to this heading">¶</a></h3>
<p>One way to create a vector is by calling the <strong class="command">numpy.array</strong> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">])</span>
<span class="n">x</span>
<span class="c1">## array([10, 20, 30, 40, 50, 60])</span>
</pre></div>
</div>
<p>Here, the vector elements were specified by means of an ordinary list.
Ranges and tuples can also be used as content providers.
The earnest readers are encouraged to check it now themselves.</p>
<div style="margin-top: 1em"></div><p>A vector of length (size) <span class="math">\(n\)</span> is often used to represent
a point in an <span class="math">\(n\)</span>-dimensional space (for example, GPS coordinates
of a place on Earth assume <span class="math">\(n=2\)</span>)
or <span class="math">\(n\)</span> readings of some one-dimensional quantity
(e.g., recorded heights of <span class="math">\(n\)</span> people).
The said length can either be read using the previously-mentioned
<strong class="command">len</strong> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1">## 6</span>
</pre></div>
</div>
<p>A vector is a <em>one-dimensional array</em>. Accordingly, its <em>shape</em> is stored
as a tuple of length 1 (the number of dimensions is given by querying
<code class="docutils literal notranslate"><span class="pre">x.ndim</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">shape</span>
<span class="c1">## (6,)</span>
</pre></div>
</div>
<p>We can therefore fetch its length also by accessing <code class="docutils literal notranslate"><span class="pre">x.shape[0]</span></code>.
On a side note, matrices – two-dimensional arrays discussed
in <a class="reference internal" href="310-matrix.html#chap-matrix"><span class="std std-numref">Chapter 7</span></a> - will be of shape like
<code class="docutils literal notranslate"><span class="pre">(number_of_rows,</span> <span class="pre">number_of_columns)</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Recall that Python lists, e.g., <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>, represent simple sequences of
objects of any kind.
Their use cases are very broad, which is both an advantage
and something quite the opposite.
<em>Vectors</em> in <strong class="program">numpy</strong> are like lists, but on steroids.
They are powerful in scientific computing
because of the underlying assumption
that each object they store is of the same type<a class="footnote-reference brackets" href="#footnumpyc" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.
In most scenarios,
we will be dealing with vectors of logical values, integers, and
floating-point numbers. Thanks to this, a wide range of
methods for performing the most popular mathematical operations could have
been defined.</p>
</div>
<p>And so, above we created a sequence of integers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">dtype</span>  <span class="c1"># data type</span>
<span class="c1">## dtype(&#39;int64&#39;)</span>
</pre></div>
</div>
<p>To show that other element types are also available, we can convert it
to a vector with elements of the type <code class="docutils literal notranslate"><span class="pre">float</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># or np.array(x, dtype=float)</span>
<span class="c1">## array([10., 20., 30., 40., 50., 60.])</span>
</pre></div>
</div>
<p>Let’s emphasise this vector is printed differently from its <code class="docutils literal notranslate"><span class="pre">int</span></code>-based
counterpart: note the decimal separators. Furthermore:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
<span class="c1">## array([ True, False, False,  True])</span>
</pre></div>
</div>
<p>gives a logical vector, for the array constructor detected that the common
type of all the elements is <code class="docutils literal notranslate"><span class="pre">bool</span></code>. Also:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s2">&quot;spam&quot;</span><span class="p">,</span> <span class="s2">&quot;spam&quot;</span><span class="p">,</span> <span class="s2">&quot;bacon&quot;</span><span class="p">,</span> <span class="s2">&quot;spam&quot;</span><span class="p">])</span>
<span class="c1">## array([&#39;spam&#39;, &#39;spam&#39;, &#39;bacon&#39;, &#39;spam&#39;], dtype=&#39;&lt;U5&#39;)</span>
</pre></div>
</div>
<p>yields an array of strings in Unicode
(i.e., capable of storing any character in any alphabet,
emojis, mathematical symbols, etc.),
each of no more than five<a class="footnote-reference brackets" href="#footstrtrunc" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> code points in length.</p>
</section>
<section id="arithmetic-progressions">
<h3><span class="section-number">4.1.2. </span>Arithmetic progressions<a class="headerlink" href="#arithmetic-progressions" title="Link to this heading">¶</a></h3>
<p><strong class="program">numpy</strong>’s <strong class="command">arange</strong> is similar to the built-in
<strong class="command">range</strong> function, but outputs a vector:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># from 0 to 10 (exclusive) by 2</span>
<span class="c1">## array([0, 2, 4, 6, 8])</span>
</pre></div>
</div>
<p><strong class="command">numpy.linspace</strong> creates a sequence
of equidistant points on the linear scale in a given interval:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># from 0 to 1 (inclusive), 5 equispaced values</span>
<span class="c1">## array([0.  , 0.25, 0.5 , 0.75, 1.  ])</span>
</pre></div>
</div>
<div class="proof proof-type-exercise" id="id20">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.1</span>
        
    </div><div class="proof-content">
<p>Call <strong class="command">help</strong><code class="code docutils literal notranslate"><span class="pre">(np.linspace)</span></code>
or <strong class="command">help</strong><code class="code docutils literal notranslate"><span class="pre">(&quot;numpy.linspace&quot;)</span></code>
to study the meaning of the <code class="docutils literal notranslate"><span class="pre">endpoint</span></code> argument.
Find the same documentation page on the <strong class="program">numpy</strong> project’s
<a class="reference external" href="https://numpy.org/doc/stable/reference/index.html">website</a>.
Another way is to use your favourite search engine such as
DuckDuckGo and query “<code class="docutils literal notranslate"><span class="pre">linspace</span> <span class="pre">site:numpy.org</span></code>”<a class="footnote-reference brackets" href="#footbang" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>.
Always remember to gather information from first-hand sources.
You should become a frequent visitor to this page (and similar
ones). In particular, every so often it is advisable to check out for
significant updates at <a class="reference external" href="https://numpy.org/news">https://numpy.org/news</a>.</p>
</div></div></section>
<section id="repeating-values">
<h3><span class="section-number">4.1.3. </span>Repeating values<a class="headerlink" href="#repeating-values" title="Link to this heading">¶</a></h3>
<p><strong class="command">numpy.repeat</strong> repeats <em>each</em> given value a specified
number of times:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1"># six 3s</span>
<span class="c1">## array([3, 3, 3, 3, 3, 3])</span>
<span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># three 1s, three 2s</span>
<span class="c1">## array([1, 1, 1, 2, 2, 2])</span>
<span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>  <span class="c1"># three 1s, five 2s</span>
<span class="c1">## array([1, 1, 1, 2, 2, 2, 2, 2])</span>
</pre></div>
</div>
<p>In the last case, every element from the list passed as the first argument
was repeated the <em>corresponding</em> number of times,
as defined by the second argument.</p>
<p><strong class="command">numpy.tile</strong>, on the other hand, repeats a whole sequence
with <em>recycling</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># repeat [1, 2] three times</span>
<span class="c1">## array([1, 2, 1, 2, 1, 2])</span>
</pre></div>
</div>
<p>Notice the difference between the above
and the result of <strong class="command">numpy.repeat</strong><code class="code docutils literal notranslate"><span class="pre">([1,</span> <span class="pre">2],</span> <span class="pre">3)</span></code>.</p>
<p>See also<a class="footnote-reference brackets" href="#footseealso" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> <strong class="command">numpy.zeros</strong> and <strong class="command">numpy.ones</strong> for
some specialised versions of the foregoing functions.</p>
</section>
<section id="numpy-r">
<span id="sec-numpy-runderscore"></span><h3><span class="section-number">4.1.4. </span><strong class="command">numpy.r_</strong> (*)<a class="headerlink" href="#numpy-r" title="Link to this heading">¶</a></h3>
<p><strong class="command">numpy.r_</strong> gives perhaps the most flexible means for
creating vectors involving quite a few of the aforementioned scenarios,
albeit its syntax is quirky. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">]</span>
<span class="c1">## array([ 1.,  2.,  3., nan,  5., inf])</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">nan</span></code> stands for a <em>not-a-number</em> and is used as a placeholder
for missing values (discussed in <a class="reference internal" href="520-missingness.html#sec-missing-data"><span class="std std-numref">Section 15.1</span></a>)
or <em>wrong</em> results,
such as the square root of <span class="math">\(-1\)</span> in the domain of reals.
The <code class="docutils literal notranslate"><span class="pre">inf</span></code> object, on the other hand, denotes the <em>infinity</em>, <span class="math">\(\infty\)</span>.
We can think of it as a value that is too large to be
represented in the set of floating-point numbers.</p>
<p>We see that <strong class="command">numpy.r_</strong> uses square brackets instead of
round ones. This is smart for we mentioned in
<a class="reference internal" href="130-sequential.html#sec-slicing"><span class="std std-numref">Section 3.2.2</span></a> that slices (`<strong class="command">:</strong>`) can only be
created inside the index operator. And so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># like np.arange(0, 10, 2)</span>
<span class="c1">## array([0, 2, 4, 6, 8])</span>
</pre></div>
</div>
<p>What is more, <strong class="command">numpy.r_</strong> accepts the following syntactic sugar:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="n">j</span><span class="p">]</span>  <span class="c1"># like np.linspace(0, 1, 5)</span>
<span class="c1">## array([0.  , 0.25, 0.5 , 0.75, 1.  ])</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">5j</span></code> does not have its literal meaning (a complex number).
By an arbitrary convention, and only in this context,
it designates the output length of the sequence to be generated.
Could the <strong class="program">numpy</strong> authors do that? Well, they could, and they did.
End of story.</p>
<p>We can also combine many types of sequences into one:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="mi">3</span><span class="n">j</span><span class="p">]</span>
<span class="c1">## array([1. , 2. , 3. , 3. , 0. , 1. , 2. , 0. , 1.5, 3. ])</span>
</pre></div>
</div>
</section>
<section id="generating-pseudorandom-variates">
<h3><span class="section-number">4.1.5. </span>Generating pseudorandom variates<a class="headerlink" href="#generating-pseudorandom-variates" title="Link to this heading">¶</a></h3>
<p>The automatically-attached <strong class="program">numpy.random</strong> module
defines many functions to generate
pseudorandom numbers. We will be discussing the reason
for our using the <em>pseudo</em> prefix in <a class="reference internal" href="230-distribution.html#sec-pseudorandom"><span class="std std-numref">Section 6.4</span></a>,
so now let’s only take note of a way to sample from
the uniform distribution on the unit interval:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># five pseudorandom observations in [0, 1]</span>
<span class="c1">## array([0.49340194, 0.41614605, 0.69780667, 0.45278338, 0.84061215])</span>
</pre></div>
</div>
<p>and to pick a few values from a given set with replacement
(selecting the same value multiple times is allowed):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># replace=True</span>
<span class="c1">## array([7, 7, 4, 6, 6, 2, 1, 7, 2, 1, 8, 9, 5, 5, 9, 8, 1, 2, 6, 6])</span>
</pre></div>
</div>
</section>
<section id="loading-data-from-files">
<h3><span class="section-number">4.1.6. </span>Loading data from files<a class="headerlink" href="#loading-data-from-files" title="Link to this heading">¶</a></h3>
<p>We will usually be reading whole heterogeneous tabular datasets
using <strong class="command">pandas.read_csv</strong>, being the topic we shall cover
in <a class="reference internal" href="410-data-frame.html#chap-data-frame"><span class="std std-numref">Chapter 10</span></a>.
It is worth knowing, though, that arrays with elements of the
same type can be read efficiently from
text files (e.g., CSV) using <strong class="command">numpy.genfromtxt</strong>.
The code chunk at the beginning of this chapter serves as an example.</p>
<div class="proof proof-type-exercise" id="id21">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.2</span>
        
    </div><div class="proof-content">
<p>Read the
<a class="reference external" href="https://github.com/gagolews/teaching-data/blob/-/marek/population_largest_cities_unnamed.txt"><code class="docutils literal notranslate"><span class="pre">population_largest_cities_unnamed</span></code></a> dataset
directly from GitHub
(click <em>Raw</em> to get access to its contents
and use the URL you were redirected to, not the original one).</p>
</div></div></section>
</section>
<section id="some-mathematical-notation">
<h2><span class="section-number">4.2. </span>Some mathematical notation<a class="headerlink" href="#some-mathematical-notation" title="Link to this heading">¶</a></h2>
<p>Mathematically, we will be denoting a number sequence like:</p>
<div class="math-wrapper docutils container">
<div class="math">
\[\boldsymbol{x}=(x_1, x_2, \dots, x_n),\]</div>
</div>
<p>where <span class="math">\(x_i\)</span> is its <span class="math">\(i\)</span>-th element, and <span class="math">\(n\)</span> is its length (size).
Using the programming syntax,
<span class="math">\(x_i\)</span> is <code class="docutils literal notranslate"><span class="pre">x[i-1]</span></code> (because the first element is at index 0),
and <span class="math">\(n\)</span> corresponds to <strong class="command">len</strong><code class="code docutils literal notranslate"><span class="pre">(x)</span></code> or,
equivalently, <code class="docutils literal notranslate"><span class="pre">x.shape[0]</span></code>.</p>
<p>The bold font (hopefully clearly visible) is to emphasise
that <span class="math">\(\boldsymbol{x}\)</span> is not an atomic entity (<span class="math">\(x\)</span>),
but rather a collection of items.
For brevity, instead of writing “let <span class="math">\(\boldsymbol{x}\)</span>
be a real-valued sequence of length <span class="math">\(n\)</span>”,
we can state “let <span class="math">\(\boldsymbol{x}\in\mathbb{R}^n\)</span>”.
Here:</p>
<ul class="simple">
<li><p>the “<span class="math">\(\in\)</span>” symbol stands for “<em>is in</em>” or “<em>is a member of</em>”,</p></li>
<li><p><span class="math">\(\mathbb{R}\)</span> denotes the set of real numbers (the very one
that includes, <span class="math">\(0\)</span>, <span class="math">\(-358745.2394\)</span>, <span class="math">\(42\)</span> and <span class="math">\(\pi\)</span>, amongst
uncountably many others), and</p></li>
<li><p><span class="math">\(\mathbb{R}^n\)</span> is the set of real-valued sequences of length <span class="math">\(n\)</span>
(i.e., <span class="math">\(n\)</span> such numbers considered at a time);
e.g., <span class="math">\(\mathbb{R}^2\)</span> includes pairs such as
<span class="math">\((1, 2)\)</span>, <span class="math">\((\pi/3, \sqrt{2}/2)\)</span>, and <span class="math">\((1/3, 10^{3})\)</span>.</p></li>
</ul>
<p>Overall, if <span class="math">\(\boldsymbol{x}\in \mathbb{R}^n\)</span>,
then we often say that <span class="math">\(\boldsymbol{x}\)</span> is
<em>a sequence of <span class="math">\(n\)</span> numbers</em>,
<em>a (numeric) <span class="math">\(n\)</span>-tuple</em>,
<em>an <span class="math">\(n\)</span>-dimensional real vector</em>,
<em>a point in an <span class="math">\(n\)</span>-dimensional real space</em>,
or <em>an element of a real <span class="math">\(n\)</span>-space</em>, etc.
In many contexts, they are synonymic
(although, mathematically, the devil is in the detail).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mathematical notation is pleasantly <em>abstract</em> (general)
in the sense that <span class="math">\(\boldsymbol{x}\)</span> can be anything,
e.g., data on the incomes of households,
sizes of the largest cities in some country,
or heights of participants in some longitudinal study.
At first glance, such a representation of objects
from the so-called <em>real world</em> might seem overly simplistic,
especially if we wish to store information on very complex entities.
Nonetheless, in most cases, expressing them as
<em>vectors</em> (i.e., establishing a set of numeric attributes
that best describe them in a task at hand) is not only natural
but also perfectly sufficient for achieving whatever we aim for.</p>
</div>
<div class="proof proof-type-exercise" id="id22">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.3</span>
        
    </div><div class="proof-content">
<p>Consider the following problems:</p>
<ul class="simple">
<li><p>How would you represent patients in a medical clinic
(for the purpose of conducting a research study
in dietetics and sport sciences)?</p></li>
<li><p>How would you represent cars in an insurance company’s database
(to determine how much drivers should pay annually
for the mandatory policy)?</p></li>
<li><p>How would you represent students in a university (to grant them
scholarships)?</p></li>
</ul>
<p>In each case, list a few numeric features that best describe the reality
at hand. On a side note, <em>descriptive</em> (categorical, qualitative)
labels can always be <em>encoded</em> as numbers,
e.g., female = 1, male = 2, but this will be the topic of
<a class="reference internal" href="420-categorical.html#chap-categorical"><span class="std std-numref">Chapter 11</span></a>.</p>
</div></div><div style="margin-top: 1em"></div><p>By <span class="math">\(x_{(i)}\)</span> (notice the bracket<a class="footnote-reference brackets" href="#footorderalt" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>)
we denote the <span class="math">\(i\)</span>-th <em>order statistic</em>,
that is, the <span class="math">\(i\)</span>-th smallest value in <span class="math">\(\boldsymbol{x}\)</span>.
In particular, <span class="math">\(x_{(1)}\)</span> is the sample minimum
and <span class="math">\(x_{(n)}\)</span> is the maximum.
Here is the same in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># just an example</span>
<span class="n">x_sorted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x_sorted</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x_sorted</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># the minimum and the maximum</span>
<span class="c1">## (1, 5)</span>
</pre></div>
</div>
<p>To avoid the clutter of notation,
in certain formulae (e.g., in the definition of the type-7 quantiles
in <a class="reference internal" href="220-transform-vector.html#sec-quantiles"><span class="std std-numref">Section 5.1.1.3</span></a>), we will be assuming that
<span class="math">\(x_{(0)}\)</span> is the same as <span class="math">\(x_{(1)}\)</span> and <span class="math">\(x_{(n+1)}\)</span> is equivalent
to <span class="math">\(x_{(n)}\)</span>.</p>
</section>
<section id="inspecting-the-data-distribution-with-histograms">
<h2><span class="section-number">4.3. </span>Inspecting the data distribution with histograms<a class="headerlink" href="#inspecting-the-data-distribution-with-histograms" title="Link to this heading">¶</a></h2>
<p><em>Histograms</em> are one of the most intuitive tools for depicting
the empirical distribution of a data sample.
We will be drawing them using the classic plotting library
<a class="reference external" href="https://matplotlib.org/"><strong class="program">matplotlib</strong></a> <span id="id12">[<a class="reference internal" href="999-bibliography.html#id52" title="Hunter, J.D. (2007).  Matplotlib: A 2D graphics environment. Computing in Science &amp; Engineering, 9(3):90–95.">54</a>]</span>
(originally developed by John D. Hunter).
Let’s import it under its traditional alias:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</pre></div>
</div>
<section id="heights-a-bell-shaped-distribution">
<h3><span class="section-number">4.3.1. </span><code class="docutils literal notranslate"><span class="pre">heights</span></code>: A bell-shaped distribution<a class="headerlink" href="#heights-a-bell-shaped-distribution" title="Link to this heading">¶</a></h3>
<p>Let’s draw a histogram of the <code class="docutils literal notranslate"><span class="pre">heights</span></code> dataset;
see <a class="reference internal" href="#fig-heights-histogram-bins11"><span class="std std-numref">Figure 4.2</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">__not_important</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">heights</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id23">
<span id="fig-heights-histogram-bins11"></span><img alt="../_images/heights-histogram-bins11-3.png" src="../_images/heights-histogram-bins11-3.png" />
<figcaption>
<p><span class="caption-number">Figure 4.2 </span><span class="caption-text">A histogram of the <code class="docutils literal notranslate"><span class="pre">heights</span></code> dataset: the empirical distribution is nicely bell-shaped.</span><a class="headerlink" href="#id23" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The data were split into 11 bins.
Then, they were plotted so that the bar heights are proportional
to the number of observations falling into each of the 11 intervals.
The bins are non-overlapping, adjacent to each other,
and of equal lengths.
We can read their coordinates by looking at the bottom side of each
rectangular bar.
For example, circa 1200 observations fall into
the interval [158, 163] (more or less) and roughly 400 into [168, 173]
(approximately). To get more precise information, we can query
the return objects:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bins</span>  <span class="c1"># 12 interval boundaries; give 11 bins</span>
<span class="c1">## array([131.1       , 136.39090909, 141.68181818, 146.97272727,</span>
<span class="c1">##        152.26363636, 157.55454545, 162.84545455, 168.13636364,</span>
<span class="c1">##        173.42727273, 178.71818182, 184.00909091, 189.3       ])</span>
<span class="n">counts</span>  <span class="c1"># the corresponding 11 counts</span>
<span class="c1">## array([   2.,   11.,  116.,  409.,  992., 1206.,  948.,  404.,  110.,</span>
<span class="c1">##          20.,    3.])</span>
</pre></div>
</div>
<p>This distribution is nicely symmetrical around about 160 cm.
Traditionally, we are used to saying that it is in the shape of a <em>bell</em>.
The most typical (<em>normal</em>, common) observations are
somewhere in the middle, and the probability mass decreases quickly
on both sides.</p>
<p>As a matter of fact, in <a class="reference internal" href="230-distribution.html#chap-distribution"><span class="std std-numref">Chapter 6</span></a>, we will model this
dataset using a <em>normal</em> distribution and obtain an excellent fit.
In particular, we will mention that observations outside the
interval [139, 181] are very rare (probability less than 1%;
via the <span class="math">\(3\sigma\)</span> rule, i.e., expected value ± 3 standard deviations).</p>
</section>
<section id="income-a-right-skewed-distribution">
<h3><span class="section-number">4.3.2. </span><code class="docutils literal notranslate"><span class="pre">income</span></code>: A right-skewed distribution<a class="headerlink" href="#income-a-right-skewed-distribution" title="Link to this heading">¶</a></h3>
<p>For some of us, a normal distribution is often a <em>prototypical</em> one:
we might expect (wishfully think) that many phenomena enjoy similar
regularities.
And that is approximately the case<a class="footnote-reference brackets" href="#footclt" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>, e.g., in standardised testing
(IQ and other ability scores or personality traits), physiology
(the above heights), or when quantifying physical objects’ attributes
with not-so-precise devices (distribution of measurement errors).
We might be tempted to think now that <em>everything</em> is normally
distributed, but this is very much untrue.</p>
<p>Consider another dataset. <a class="reference internal" href="#fig-income-histogram-bins20"><span class="std std-numref">Figure 4.3</span></a>
depicts the distribution of a simulated<a class="footnote-reference brackets" href="#footincomesim" id="id14" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a> sample of disposable
income of 1 000 randomly chosen UK households, in British Pounds,
for the financial year ending 2020.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">income</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/gagolews/&quot;</span> <span class="o">+</span>
    <span class="s2">&quot;teaching-data/master/marek/uk_income_simulated_2020.txt&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">income</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id24">
<span id="fig-income-histogram-bins20"></span><img alt="../_images/income-histogram-bins20-5.png" src="../_images/income-histogram-bins20-5.png" />
<figcaption>
<p><span class="caption-number">Figure 4.3 </span><span class="caption-text">A histogram of the <code class="docutils literal notranslate"><span class="pre">income</span></code> dataset: the distribution is right-skewed.</span><a class="headerlink" href="#id24" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>We notice that the probability density quickly increases, reaches
its peak at around £15 500–£35 000, and then slowly goes down.
We say that it has a <em>long tail on the right</em>, or that
it is <em>right- or positive-skewed</em>. Accordingly, there are
several people earning a decent amount of money.
It is quite a non-normal distribution. Most people are rather
unwealthy: their income is way below the typical per-capita revenue
(being the average income for the whole population).</p>
<p>In <a class="reference internal" href="230-distribution.html#sec-log-normal-distribution"><span class="std std-numref">Section 6.3.1</span></a>, we will note
that such a distribution is frequently encountered in biology and medicine,
social sciences, or technology. For instance, the number of sexual partners
or weights of humans are believed to be aligned this way.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Looking at <a class="reference internal" href="#fig-income-histogram-bins20"><span class="std std-numref">Figure 4.3</span></a>, we might have taken note
of the relatively higher bars, as compared to their neighbours,
at c. £100 000 and £120 000. Even though we might be tempted
to try to invent a <em>story</em> about why there can be some difference
in the relative probability mass, we ought to refrain from it.
As our data sample is small, they might merely be
due to some natural variability (<a class="reference internal" href="230-distribution.html#sec-natural-variability"><span class="std std-numref">Section 6.4.4</span></a>).
Of course, there might be some reasons behind it (theoretically),
but we cannot read this only by looking at a single histogram.
In other words, a histogram is a tool that we use to identify some rather
general features of the data distribution (like the overall shape),
not the specifics.</p>
</div>
<div class="proof proof-type-exercise" id="id25">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.4</span>
        
    </div><div class="proof-content">
<p>There is also the
<a class="reference external" href="https://github.com/gagolews/teaching-data/raw/master/marek/nhanes_adult_female_weight_2020.txt"><code class="docutils literal notranslate"><span class="pre">nhanes_adult_female_weight_2020</span></code></a>
dataset in our data repository, giving the weights
(in kilograms) of the NHANES study participants.
Draw its histogram. Does its shape resemble the
<code class="docutils literal notranslate"><span class="pre">income</span></code> or <code class="docutils literal notranslate"><span class="pre">heights</span></code> distribution more?</p>
</div></div></section>
<section id="how-many-bins">
<span id="sec-how-many-bins"></span><h3><span class="section-number">4.3.3. </span>How many bins?<a class="headerlink" href="#how-many-bins" title="Link to this heading">¶</a></h3>
<p>Unless some stronger assumptions about the data distribution
are made, choosing the right number of bins is more art than science:</p>
<ul class="simple">
<li><p>too many will result in a rugged histogram,</p></li>
<li><p>too few might cause us to miss some important details.</p></li>
</ul>
<p><a class="reference internal" href="#fig-income-histogram-binnumber"><span class="std std-numref">Figure 4.4</span></a> illustrates this.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># one row, two columns; the first plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">income</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># one row, two columns; the second plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">income</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id26">
<span id="fig-income-histogram-binnumber"></span><img alt="../_images/income-histogram-binnumber-7.png" src="../_images/income-histogram-binnumber-7.png" />
<figcaption>
<p><span class="caption-number">Figure 4.4 </span><span class="caption-text">Too few and too many histogram bins (the <code class="docutils literal notranslate"><span class="pre">income</span></code> dataset).</span><a class="headerlink" href="#id26" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>For example, in the histogram with five bins, we miss the information
that the c. £20 000 income is more popular than the c. £10 000 one.
(as given by the first two bars in <a class="reference internal" href="#fig-income-histogram-bins20"><span class="std std-numref">Figure 4.3</span></a>).
On the other hand, the histogram with 200 bins
seems to be too fine-grained already.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Usually, the “truth” is probably somewhere in-between.
When preparing histograms for publication (e.g., in a report
or on a webpage), we might be tempted to think
“one must choose one and only one bin count”.
In fact, we do not have to (despite that some will complain about it).
Remember that it is we who are responsible for the data’s being presented in
the most unambiguous a fashion possible.
Providing two or three histograms can sometimes be a much better idea.</p>
<p>Further, we should be aware that someone might want to trick us
by choosing the number of bins that depict the reality in a good light,
when the object matter is slightly more nuanced. For instance,
the histogram on the left side of <a class="reference internal" href="#fig-income-histogram-binnumber"><span class="std std-numref">Figure 4.4</span></a>
hides the poorest households inside the first bar: the first income bracket
is very wide. If we cannot request access to the original data, the best
we can do is to simply ignore such a data visualisation instance
and warn others not to trust it. A true data scientist must be sceptical.</p>
<p>Also, note that in the right histogram, we exactly know
what is the income of the wealthiest person. From the perspective
of privacy, this might be a bit unsensitive.</p>
</div>
<p>The documentation of <strong class="command">matplotlib.pyplot.hist</strong>
states that the <code class="docutils literal notranslate"><span class="pre">bins</span></code> argument is passed to
<strong class="command">numpy.histogram_bin_edges</strong>
to determine the intervals into which our data are to be split.
<strong class="command">numpy.histogram</strong> uses the same function, but
it returns the corresponding bin counts without plotting them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">income</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">counts</span>
<span class="c1">## array([131, 238, 238, 147,  95,  55,  29,  23,  10,  12,   5,   7,   4,</span>
<span class="c1">##          3,   2,   0,   0,   0,   0,   1])</span>
<span class="n">bins</span>
<span class="c1">## array([  5750.  ,  15460.95,  25171.9 ,  34882.85,  44593.8 ,  54304.75,</span>
<span class="c1">##         64015.7 ,  73726.65,  83437.6 ,  93148.55, 102859.5 , 112570.45,</span>
<span class="c1">##        122281.4 , 131992.35, 141703.3 , 151414.25, 161125.2 , 170836.15,</span>
<span class="c1">##        180547.1 , 190258.05, 199969.  ])</span>
</pre></div>
</div>
<p>Thus, there are 238 observations both in the
[15 461, 25 172) and [25 172, 34 883) intervals.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A table of ranges and the corresponding counts can be effective
for data reporting. It is more informative and takes less space than
a series of raw numbers,
especially if we present them like in the table below.</p>
<div class="table-wrapper colwidths-auto docutils container" id="id27">
<table class="docutils align-default" id="id27">
<caption><span class="caption-number">Table 4.1 </span><span class="caption-text">Incomes of selected British households; the bin edges are pleasantly round numbers</span><a class="headerlink" href="#id27" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>income bracket [£1000s]</strong></p></th>
<th class="head text-right"><p><strong>count</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>0–20</p></td>
<td class="text-right"><p>236</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>20–40</p></td>
<td class="text-right"><p>459</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>40–60</p></td>
<td class="text-right"><p>191</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>60–80</p></td>
<td class="text-right"><p>64</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>80–100</p></td>
<td class="text-right"><p>26</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>100–120</p></td>
<td class="text-right"><p>11</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>120–140</p></td>
<td class="text-right"><p>10</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>140–160</p></td>
<td class="text-right"><p>2</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>160–180</p></td>
<td class="text-right"><p>0</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>180–200</p></td>
<td class="text-right"><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>Reporting data in tabular form can also increase the privacy of the subjects
(making subjects less identifiable, which is good)
or hide some uncomfortable facts (which is not so good;
“there are ten people in our company earning <em>more</em> than £200 000 p.a.” –
this can be as much as £10 000 000, but shush).</p>
</div>
<div class="proof proof-type-exercise" id="id28">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.5</span>
        
    </div><div class="proof-content">
<p>Find out how we can provide the <strong class="command">matplotlib.pyplot.hist</strong>
and <strong class="command">numpy.histogram</strong> functions with custom bin breaks.
Plot a histogram where the bin edges are
0, 20 000, 40 000, etc. (just like in the above table).
Also let’s highlight the fact that bins do not have to be of equal sizes:
set the last bin to [140 000, 200 000].</p>
</div></div><div class="proof proof-type-exercise" id="id29">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.6</span>
        
    </div><div class="proof-content">
<p>(*) There are quite a few heuristics
to determine the number of bins automagically,
see <strong class="command">numpy.histogram_bin_edges</strong> for a few formulae.
Check out how different values of the <code class="docutils literal notranslate"><span class="pre">bins</span></code> argument
(e.g., <code class="docutils literal notranslate"><span class="pre">&quot;sturges&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fd&quot;</span></code>) affect the histogram shapes
on both <code class="docutils literal notranslate"><span class="pre">income</span></code> and <code class="docutils literal notranslate"><span class="pre">heights</span></code> datasets.
Each has its limitations, none is perfect, but some might be a sensible
starting point for further fine-tuning.</p>
</div></div><p>We will get back to the topic of manual data binning
in <a class="reference internal" href="420-categorical.html#sec-binning"><span class="std std-numref">Section 11.1.4</span></a>.</p>
</section>
<section id="peds-a-bimodal-distribution-already-binned">
<h3><span class="section-number">4.3.4. </span><code class="docutils literal notranslate"><span class="pre">peds</span></code>: A bimodal distribution (already binned)<a class="headerlink" href="#peds-a-bimodal-distribution-already-binned" title="Link to this heading">¶</a></h3>
<p>Here are the December 2019 hourly average
<a class="reference external" href="http://www.pedestrian.melbourne.vic.gov.au/">pedestrian counts</a>
near the Southern Cross Station in Melbourne:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">peds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/gagolews/&quot;</span> <span class="o">+</span>
    <span class="s2">&quot;teaching-data/master/marek/southern_cross_station_peds_2019_dec.txt&quot;</span><span class="p">)</span>
<span class="n">peds</span>
<span class="c1">## array([  31.22580645,   18.38709677,   11.77419355,    8.48387097,</span>
<span class="c1">##           8.58064516,   58.70967742,  332.93548387, 1121.96774194,</span>
<span class="c1">##        2061.87096774, 1253.41935484,  531.64516129,  502.35483871,</span>
<span class="c1">##         899.06451613,  775.        ,  614.87096774,  825.06451613,</span>
<span class="c1">##        1542.74193548, 1870.48387097,  884.38709677,  345.83870968,</span>
<span class="c1">##         203.48387097,  150.4516129 ,  135.67741935,   94.03225806])</span>
</pre></div>
</div>
<p>This time, data have already been binned by somebody else.
Consequently, we cannot use <strong class="command">matplotlib.pyplot.hist</strong> to depict them.
Instead, we can rely on a more low-level function,
<strong class="command">matplotlib.pyplot.bar</strong>; see <a class="reference internal" href="#fig-peds-histogram"><span class="std std-numref">Figure 4.5</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">peds</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">24</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id30">
<span id="fig-peds-histogram"></span><img alt="../_images/peds-histogram-9.png" src="../_images/peds-histogram-9.png" />
<figcaption>
<p><span class="caption-number">Figure 4.5 </span><span class="caption-text">A histogram of the <code class="docutils literal notranslate"><span class="pre">peds</span></code> dataset: a bimodal (trimodal?) distribution.</span><a class="headerlink" href="#id30" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>This is an example of a bimodal (or even trimodal) distribution.
There is a morning peak and an evening peak (and some analysts
probably would distinguish a lunchtime one too).</p>
</section>
<section id="matura-a-bell-shaped-distribution-almost">
<h3><span class="section-number">4.3.5. </span><code class="docutils literal notranslate"><span class="pre">matura</span></code>: A bell-shaped distribution (almost)<a class="headerlink" href="#matura-a-bell-shaped-distribution-almost" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="#fig-matura-histogram"><span class="std std-numref">Figure 4.6</span></a> depicts a histogram of another
interesting dataset which also comes in a presummarised form.
It gives the <a class="reference external" href="https://cke.gov.pl/images/_EGZAMIN_MATURALNY_OD_2015/Informacje_o_wynikach/2019/sprawozdanie/Sprawozdanie%202019%20-%20J%C4%99zyk%20polski.pdf">distribution</a>
of the 2019 Matura exam (secondary school exit diploma)
scores in Poland (in %) – Polish literature<a class="footnote-reference brackets" href="#footpllit" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a> at the basic level.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">matura</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/gagolews/&quot;</span> <span class="o">+</span>
    <span class="s2">&quot;teaching-data/master/marek/matura_2019_polish.txt&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">71</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">matura</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id31">
<span id="fig-matura-histogram"></span><img alt="../_images/matura-histogram-11.png" src="../_images/matura-histogram-11.png" />
<figcaption>
<p><span class="caption-number">Figure 4.6 </span><span class="caption-text">A histogram of the <code class="docutils literal notranslate"><span class="pre">matura</span></code> dataset: a bell-shaped distribution… almost.</span><a class="headerlink" href="#id31" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>We probably expected the distribution to be bell-shaped. However, it is
clear that someone tinkered with it. Still, knowing that:</p>
<ul class="simple">
<li><p>the examiners are good people: we teachers love our students,</p></li>
<li><p>20 points were required to pass,</p></li>
<li><p>50 points were given for an essay and beauty is in the eye of the
beholder,</p></li>
</ul>
<p>it all starts to make sense.
Without graphically depicting this dataset, we would not know
that some <em>anomalies</em> occurred: some students got a “lucky” pass grade.</p>
</section>
<section id="marathon-truncated-fastest-runners-a-left-skewed-distribution">
<h3><span class="section-number">4.3.6. </span><code class="docutils literal notranslate"><span class="pre">marathon</span></code> (truncated – fastest runners): A left-skewed distribution<a class="headerlink" href="#marathon-truncated-fastest-runners-a-left-skewed-distribution" title="Link to this heading">¶</a></h3>
<p>Next, let’s consider the 37th Warsaw Marathon (2015) results.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">marathon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/gagolews/&quot;</span> <span class="o">+</span>
    <span class="s2">&quot;teaching-data/master/marek/37_pzu_warsaw_marathon_mins.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here are the top five gun times (in minutes):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">marathon</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>  <span class="c1"># preview the first five (data are already sorted increasingly)</span>
<span class="c1">## array([129.32, 130.75, 130.97, 134.17, 134.68])</span>
</pre></div>
</div>
<p>Figure <a class="reference internal" href="#fig-marathon180-histogram"><span class="std std-numref">Figure 4.7</span></a> gives the histogram
for the participants who finished the 42.2 km run in less than three hours,
i.e., a <em>truncated</em> version of this dataset
(more information about subsetting vectors using logical
indexers will be given in <a class="reference internal" href="220-transform-vector.html#sec-vector-indexing"><span class="std std-numref">Section 5.4</span></a>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">marathon</span><span class="p">[</span><span class="n">marathon</span> <span class="o">&lt;</span> <span class="mi">180</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id32">
<span id="fig-marathon180-histogram"></span><img alt="../_images/marathon180-histogram-13.png" src="../_images/marathon180-histogram-13.png" />
<figcaption>
<p><span class="caption-number">Figure 4.7 </span><span class="caption-text">A histogram of a truncated version of the <code class="docutils literal notranslate"><span class="pre">marathon</span></code> dataset: the distribution is left-skewed.</span><a class="headerlink" href="#id32" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>We revealed that the data are highly <em>left</em>-skewed.
This was not unexpected. There are only a few elite runners
in the game, but, boy, are they fast.
Yours truly wishes his personal best would be less than 180
minutes someday. We shall see. Running is fun, and so is walking;
why not take a break for an hour and go outside?</p>
<div class="proof proof-type-exercise" id="id33">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.7</span>
        
    </div><div class="proof-content">
<p>Plot the histogram of the untruncated (complete) version of this
dataset.</p>
</div></div></section>
<section id="log-scale-and-heavy-tailed-distributions">
<span id="sec-cities"></span><h3><span class="section-number">4.3.7. </span>Log-scale and heavy-tailed distributions<a class="headerlink" href="#log-scale-and-heavy-tailed-distributions" title="Link to this heading">¶</a></h3>
<p>Consider the dataset on the populations of US cities in 2000:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cities</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/gagolews/&quot;</span> <span class="o">+</span>
    <span class="s2">&quot;teaching-data/master/other/us_cities_2000.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s focus only on the cities whose population is not less than 10 000
(another instance of truncating, this time on the other side of the
distribution). Even though they constitute
roughly 14% of all the US settlements,
they are home to as much as about 84% of all the US citizens.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">large_cities</span> <span class="o">=</span> <span class="n">cities</span><span class="p">[</span><span class="n">cities</span> <span class="o">&gt;=</span> <span class="mi">10000</span><span class="p">]</span>
<span class="nb">len</span><span class="p">(</span><span class="n">large_cities</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">cities</span><span class="p">)</span>
<span class="c1">## 0.13863320820692138</span>
<span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">large_cities</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">cities</span><span class="p">)</span>  <span class="c1"># more on aggregation functions later</span>
<span class="c1">## 0.8351248599553305</span>
</pre></div>
</div>
<p>Here are the populations of the five largest cities
(can we guess which ones are they?):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">large_cities</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>  <span class="c1"># preview last five – data are sorted increasingly</span>
<span class="c1">## array([1517550., 1953633., 2896047., 3694742., 8008654.])</span>
</pre></div>
</div>
<p>The histogram is depicted in <a class="reference internal" href="#fig-large-cities-histogram"><span class="std std-numref">Figure 4.8</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">large_cities</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id34">
<span id="fig-large-cities-histogram"></span><img alt="../_images/large-cities-histogram-15.png" src="../_images/large-cities-histogram-15.png" />
<figcaption>
<p><span class="caption-number">Figure 4.8 </span><span class="caption-text">A histogram of the <code class="docutils literal notranslate"><span class="pre">large_cities</span></code> dataset: the distribution is extremely heavy-tailed.</span><a class="headerlink" href="#id34" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The histogram is virtually unreadable because the distribution is
not just right-skewed; it is extremely <em>heavy-tailed</em>.
Most cities are small, and those that are crowded, such as New York,
are <em>really</em> enormous.
Had we plotted the whole dataset (<code class="docutils literal notranslate"><span class="pre">cities</span></code> instead of <code class="docutils literal notranslate"><span class="pre">large_cities</span></code>),
the results’ intelligibility would be even worse.
For this reason, we should rather draw such a distribution
on the <em>logarithmic</em> scale; see <a class="reference internal" href="#fig-large-cities-histogram-log"><span class="std std-numref">Figure 4.9</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">logbins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">large_cities</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">large_cities</span><span class="p">),</span> <span class="mi">21</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">large_cities</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">logbins</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id35">
<span id="fig-large-cities-histogram-log"></span><img alt="../_images/large-cities-histogram-log-17.png" src="../_images/large-cities-histogram-log-17.png" />
<figcaption>
<p><span class="caption-number">Figure 4.9 </span><span class="caption-text">Another histogram of the same <code class="docutils literal notranslate"><span class="pre">large_cities</span></code> dataset: the distribution is right-skewed even on a logarithmic scale.</span><a class="headerlink" href="#id35" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The log-scale causes the x-axis labels not to increase linearly anymore:
it is no longer based on steps of equal sizes, giving 0,
1 000 000, 2 000 000, …, and so forth.
Instead, the increases are now <em>geometrical</em>:
10 000, 100 000, 1 000 000, etc.</p>
<p>The current dataset enjoys a right-skewed distribution even on the
logarithmic scale. Many real-world datasets behave alike;
e.g., the frequencies of occurrences of words in books.
On a side note, <a class="reference internal" href="230-distribution.html#chap-distribution"><span class="std std-numref">Chapter 6</span></a> will discuss
the Pareto distribution family which yields similar histograms.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*) We relied on <strong class="command">numpy.geomspace</strong> to generate
bin edges manually:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">large_cities</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">large_cities</span><span class="p">),</span> <span class="mi">21</span><span class="p">))</span>
<span class="c1">## array([  10001.,   13971.,   19516.,   27263.,   38084.,   53201.,</span>
<span class="c1">##          74319.,  103818.,  145027.,  202594.,  283010.,  395346.,</span>
<span class="c1">##         552272.,  771488., 1077717., 1505499., 2103083., 2937867.,</span>
<span class="c1">##        4104005., 5733024., 8008654.])</span>
</pre></div>
</div>
<p>Due to the fact that the natural logarithm is the inverse
of the exponential function and vice versa (compare <a class="reference internal" href="220-transform-vector.html#sec-vecfun"><span class="std std-numref">Section 5.2</span></a>),
equidistant points on a logarithmic scale can also be generated as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">large_cities</span><span class="p">)),</span>
        <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">large_cities</span><span class="p">)),</span>
        <span class="mi">21</span>
<span class="p">)))</span>
<span class="c1">## array([  10001.,   13971.,   19516.,   27263.,   38084.,   53201.,</span>
<span class="c1">##          74319.,  103818.,  145027.,  202594.,  283010.,  395346.,</span>
<span class="c1">##         552272.,  771488., 1077717., 1505499., 2103083., 2937867.,</span>
<span class="c1">##        4104005., 5733024., 8008654.])</span>
</pre></div>
</div>
</div>
<div class="proof proof-type-exercise" id="id36">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.8</span>
        
    </div><div class="proof-content">
<p>Draw the histogram of <code class="docutils literal notranslate"><span class="pre">income</span></code> on the logarithmic scale.
Does it resemble a bell-shaped distribution?
We will get back to this topic in <a class="reference internal" href="230-distribution.html#sec-log-normal-distribution"><span class="std std-numref">Section 6.3.1</span></a>.</p>
</div></div></section>
<section id="cumulative-probabilities-and-the-empirical-cumulative-distribution-function">
<span id="sec-ecdf"></span><h3><span class="section-number">4.3.8. </span>Cumulative probabilities and the empirical cumulative distribution function<a class="headerlink" href="#cumulative-probabilities-and-the-empirical-cumulative-distribution-function" title="Link to this heading">¶</a></h3>
<p>The histogram of the <code class="docutils literal notranslate"><span class="pre">heights</span></code> dataset in
<a class="reference internal" href="#fig-heights-histogram-bins11"><span class="std std-numref">Figure 4.2</span></a> revealed that,
amongst others, 28.6% (1 206 of 4 221) of women are approximately
160.2 ± 2.65 cm tall. However, sometimes we might be more concerned with
<em>cumulative</em> probabilities. Their interpretation is different;
from <a class="reference internal" href="#fig-heights-cumulative-histogram"><span class="std std-numref">Figure 4.10</span></a>, we can read that,
e.g., 80% of all women are <em>no more than</em>
roughly 166 cm tall (or that only 20% are taller than this height).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">heights</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cumulative probability&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id37">
<span id="fig-heights-cumulative-histogram"></span><img alt="../_images/heights-cumulative-histogram-19.png" src="../_images/heights-cumulative-histogram-19.png" />
<figcaption>
<p><span class="caption-number">Figure 4.10 </span><span class="caption-text">A cumulative histogram of the <code class="docutils literal notranslate"><span class="pre">heights</span></code> dataset.</span><a class="headerlink" href="#id37" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div style="margin-top: 1em"></div><p>Very similar is the plot of the <em>empirical cumulative
distribution function</em> (ECDF), which for a sample
<span class="math">\(\boldsymbol{x}=(x_1,\dots,x_n)\)</span> we denote by <span class="math">\(\hat{F}_n\)</span>.
And so, at any given point <span class="math">\(t\in\mathbb{R}\)</span>, <span class="math">\(\hat{F}_n(t)\)</span> is a
step function<a class="footnote-reference brackets" href="#footsteps" id="id16" role="doc-noteref"><span class="fn-bracket">[</span>10<span class="fn-bracket">]</span></a> that gives <em>the proportion of observations
in our sample that are not greater than <span class="math">\(t\)</span></em>:</p>
<div class="math-wrapper docutils container">
<div class="math">
\[
\hat{F}_n(t) = \frac{|\{ i=1,\dots,n: x_i\le t \}|}{n}.
\]</div>
</div>
<p>We read <span class="math">\(|\{ i=1,\dots,n: x_i\le t \}|\)</span> as the number of indexes like <span class="math">\(i\)</span>
such that the corresponding <span class="math">\(x_i\)</span> is less than or equal to <span class="math">\(t\)</span>.
Given the ordered inputs <span class="math">\(x_{(1)}&lt; x_{(2)}&lt; \dots&lt; x_{(n)}\)</span>, we have:</p>
<div class="math-wrapper docutils container">
<div class="math">
\[
\hat{F}_n(t) = \left\{
\begin{array}{ll}
0   & \text{for } t \lt x_{(1)}, \\
k/n & \text{for } x_{(k)} \le t \lt x_{(k+1)}, \\
1   & \text{for } t \ge x_{(n)}. \\
\end{array}
\right.
\]</div>
</div>
<p>Let’s underline the fact that drawing the ECDF does not involve
binning; we only need to arrange the observations in an ascending order.
Then, assuming that all observations are unique (there are no ties),
the arithmetic progression <span class="math">\(1/n, 2/n, \dots, n/n\)</span> is plotted
against them; see <a class="reference internal" href="#fig-heights-ecdf"><span class="std std-numref">Figure 4.11</span></a><a class="footnote-reference brackets" href="#footlatex" id="id17" role="doc-noteref"><span class="fn-bracket">[</span>11<span class="fn-bracket">]</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>
<span class="n">heights_sorted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">heights_sorted</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">,</span> <span class="n">drawstyle</span><span class="o">=</span><span class="s2">&quot;steps-post&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;$t$&quot;</span><span class="p">)</span>  <span class="c1"># LaTeX maths</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">hat</span><span class="si">{F}</span><span class="s2">_n(t)$, i.e., Prob(height $</span><span class="se">\\</span><span class="s2">leq$ t)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id38">
<span id="fig-heights-ecdf"></span><img alt="../_images/heights-ecdf-21.png" src="../_images/heights-ecdf-21.png" />
<figcaption>
<p><span class="caption-number">Figure 4.11 </span><span class="caption-text">The empirical cumulative distribution function for the <code class="docutils literal notranslate"><span class="pre">heights</span></code> dataset.</span><a class="headerlink" href="#id38" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Thus, for example, the height of 150 cm is not exceeded by 10% of the women.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*) Quantiles (which we introduce in <a class="reference internal" href="220-transform-vector.html#sec-quantiles"><span class="std std-numref">Section 5.1.1.3</span></a>)
can be considered a generalised inverse of the
ECDF.</p>
</div>
</section>
</section>
<section id="exercises">
<h2><span class="section-number">4.4. </span>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">¶</a></h2>
<div class="proof proof-type-exercise" id="id39">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.9</span>
        
    </div><div class="proof-content">
<p>What is the difference between <strong class="command">numpy.arange</strong> and
<strong class="command">numpy.linspace</strong>?</p>
</div></div><div class="proof proof-type-exercise" id="id40">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.10</span>
        
    </div><div class="proof-content">
<p>(*) What happens when we convert a logical vector to a numeric one
using the <strong class="command">astype</strong> method?
And what about when we convert a numeric vector to a logical one?
We will discuss that later, but you might want to check it yourself now.</p>
</div></div><div class="proof proof-type-exercise" id="id41">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.11</span>
        
    </div><div class="proof-content">
<p>Check what happens when we try to create a vector storing
a mix of logical, integer, and floating-point values.</p>
</div></div><div class="proof proof-type-exercise" id="id42">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.12</span>
        
    </div><div class="proof-content">
<p>Answer the following questions:</p>
<ul class="simple">
<li><p>What is a bell-shaped distribution?</p></li>
<li><p>What is a right-skewed distribution?</p></li>
<li><p>What is a heavy-tailed distribution?</p></li>
<li><p>What is a multi-modal distribution?</p></li>
</ul>
</div></div><div class="proof proof-type-exercise" id="id43">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.13</span>
        
    </div><div class="proof-content">
<p>(*) When does logarithmic binning make sense?</p>
</div></div><hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footnumpygpu" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">1</a><span class="fn-bracket">]</span></span>
<p>And very similar packages for tensor processing
on GPUs and other specialised computational units;
e.g., <strong class="program">TensorFlow</strong>, <strong class="program">PyTorch</strong>, <strong class="program">Theano</strong>,
or <strong class="program">tinygrad</strong>.</p>
</aside>
<aside class="footnote brackets" id="footnumpyc" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">2</a><span class="fn-bracket">]</span></span>
<p>(*) Vectors are directly representable as
simple arrays in the C programming
language, in which the <strong class="program">numpy</strong> methods are written.
Operations on vectors are very fast provided
that we rely on functions that process them <em>as a whole</em>.
The readers with some background in other
lower-level languages will need to get out of the habit
of processing <em>individual</em> elements using <strong class="command">for</strong>-like loops.</p>
</aside>
<aside class="footnote brackets" id="footstrtrunc" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">3</a><span class="fn-bracket">]</span></span>
<p><a class="reference internal" href="510-text.html#chap-text"><span class="std std-numref">Chapter 14</span></a> will point out that replacing
any element with new content results in the too-long strings’
being truncated. We shall see that this can be remedied by calling
<code class="docutils literal notranslate"><span class="pre">x.astype(&quot;&lt;U10&quot;)</span></code>.</p>
</aside>
<aside class="footnote brackets" id="footbang" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">4</a><span class="fn-bracket">]</span></span>
<p>DuckDuckGo also supports <em>search bangs</em> like
“<code class="docutils literal notranslate"><span class="pre">!numpy</span> <span class="pre">linspace</span></code>”. They redirect us to the official documentation
automatically.</p>
</aside>
<aside class="footnote brackets" id="footseealso" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">5</a><span class="fn-bracket">]</span></span>
<p>When we write “see also”, it means that this is
an exercise for the reader (Rule #3),
in this case: to look something up in the official documentation.</p>
</aside>
<aside class="footnote brackets" id="footorderalt" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">6</a><span class="fn-bracket">]</span></span>
<p>Some textbooks denote the <span class="math">\(i\)</span>-th order
statistic by <span class="math">\(x_{i:n}\)</span>, but we will not.</p>
</aside>
<aside class="footnote brackets" id="footclt" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id13">7</a><span class="fn-bracket">]</span></span>
<p>In fact, we have a proposition stating that the
sum or average of many observations or otherwise simpler components
of some more complex entity, assuming that they are independent
and follow the same (any!) distribution with finite variance,
is approximately normally distributed.
This is called the Central Limit Theorem and
it is a very strong mathematical result.</p>
</aside>
<aside class="footnote brackets" id="footincomesim" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id14">8</a><span class="fn-bracket">]</span></span>
<p>For privacy and other reasons, the UK Office for National
Statistics does not detail the individual taxpayers’ incomes. This is why
we needed to guesstimate them based on more coarse-grained data
from a report published at
<a class="reference external" href="https://www.ons.gov.uk/peoplepopulationandcommunity">https://www.ons.gov.uk/peoplepopulationandcommunity</a>.</p>
</aside>
<aside class="footnote brackets" id="footpllit" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id15">9</a><span class="fn-bracket">]</span></span>
<p>Gombrowicz, Nałkowska, Miłosz, Tuwim, etc.; I recommend.</p>
</aside>
<aside class="footnote brackets" id="footsteps" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id16">10</a><span class="fn-bracket">]</span></span>
<p>We cannot see the steps in <a class="reference internal" href="#fig-heights-ecdf"><span class="std std-numref">Figure 4.11</span></a>
for the points are too plentiful.</p>
</aside>
<aside class="footnote brackets" id="footlatex" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id17">11</a><span class="fn-bracket">]</span></span>
<p>(*) We are using (La)TeX maths typesetting
within <code class="docutils literal notranslate"><span class="pre">&quot;$...$&quot;</span></code> to obtain nice plot labels,
see <span id="id18">[<a class="reference internal" href="999-bibliography.html#id11" title="Oetiker, T. and others. (2021).  The Not So Short Introduction to LaTeX 2ε. URL: https://tobi.oetiker.ch/lshort/lshort.pdf.">72</a>]</span> for a comprehensive introduction.</p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="220-transform-vector.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">5. </span>Processing unidimensional data</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="130-sequential.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">3. </span>Sequential and other types in Python</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              
              
              Copyright &#169; 2022–2025 by <a href="https://www.gagolewski.com/">Marek Gagolewski</a>.
              Some rights reserved. Licensed under <a href='https://creativecommons.org/licenses/by-nc-nd/4.0'>CC BY-NC-ND 4.0</a>.
              Built with <a href="https://sphinx-doc.org/">Sphinx</a>
              and a customised <a href="https://github.com/pradyunsg/furo">Furo</a> theme.
              Last updated on 2025-04-22T11:00:38+0200.
              This site will never display any ads: it is a non-profit project.
              It does not collect any data.
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            In this chapter
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">4. Unidimensional numeric data and their empirical distribution</a><ul>
<li><a class="reference internal" href="#creating-vectors-in-numpy">4.1. Creating vectors in <strong class="program">numpy</strong></a><ul>
<li><a class="reference internal" href="#enumerating-elements">4.1.1. Enumerating elements</a></li>
<li><a class="reference internal" href="#arithmetic-progressions">4.1.2. Arithmetic progressions</a></li>
<li><a class="reference internal" href="#repeating-values">4.1.3. Repeating values</a></li>
<li><a class="reference internal" href="#numpy-r">4.1.4. <strong class="command">numpy.r_</strong> (*)</a></li>
<li><a class="reference internal" href="#generating-pseudorandom-variates">4.1.5. Generating pseudorandom variates</a></li>
<li><a class="reference internal" href="#loading-data-from-files">4.1.6. Loading data from files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#some-mathematical-notation">4.2. Some mathematical notation</a></li>
<li><a class="reference internal" href="#inspecting-the-data-distribution-with-histograms">4.3. Inspecting the data distribution with histograms</a><ul>
<li><a class="reference internal" href="#heights-a-bell-shaped-distribution">4.3.1. <code class="docutils literal notranslate"><span class="pre">heights</span></code>: A bell-shaped distribution</a></li>
<li><a class="reference internal" href="#income-a-right-skewed-distribution">4.3.2. <code class="docutils literal notranslate"><span class="pre">income</span></code>: A right-skewed distribution</a></li>
<li><a class="reference internal" href="#how-many-bins">4.3.3. How many bins?</a></li>
<li><a class="reference internal" href="#peds-a-bimodal-distribution-already-binned">4.3.4. <code class="docutils literal notranslate"><span class="pre">peds</span></code>: A bimodal distribution (already binned)</a></li>
<li><a class="reference internal" href="#matura-a-bell-shaped-distribution-almost">4.3.5. <code class="docutils literal notranslate"><span class="pre">matura</span></code>: A bell-shaped distribution (almost)</a></li>
<li><a class="reference internal" href="#marathon-truncated-fastest-runners-a-left-skewed-distribution">4.3.6. <code class="docutils literal notranslate"><span class="pre">marathon</span></code> (truncated – fastest runners): A left-skewed distribution</a></li>
<li><a class="reference internal" href="#log-scale-and-heavy-tailed-distributions">4.3.7. Log-scale and heavy-tailed distributions</a></li>
<li><a class="reference internal" href="#cumulative-probabilities-and-the-empirical-cumulative-distribution-function">4.3.8. Cumulative probabilities and the empirical cumulative distribution function</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises">4.4. Exercises</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=ff40c50f"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../_static/proof.js"></script>
    <script src="../_static/katex.min.js?v=be8ff15f"></script>
    <script src="../_static/auto-render.min.js?v=ad136472"></script>
    <script src="../_static/katex_autorenderer.js?v=bebc588a"></script>
    </body>
</html>