<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta content="Minimalist Data Wrangling with Python" name="citation_title" />
<meta content="Marek Gagolewski" name="citation_author" />
<meta content="2023" name="citation_date" />
<meta content="2023" name="citation_publication_date" />
<meta content="https://datawranglingpy.gagolewski.com/datawranglingpy.pdf" name="citation_pdf_url" />
<meta content="https://datawranglingpy.gagolewski.com/" name="citation_public_url" />
<meta content="10.5281/zenodo.6451068" name="citation_doi" />
<meta content="Minimalist Data Wrangling with Python is envisaged as a student's first introduction to data science, providing a high-level overview as well as discussing key concepts in detail. We explore methods for cleaning data gathered from different sources, transforming, selecting, and extracting features, performing exploratory data analysis and dimensionality reduction, identifying naturally occurring data clusters, modelling patterns in data, comparing data between groups, and reporting the results. This textbook is a non-profit project. Its online and PDF versions are freely available at https://datawranglingpy.gagolewski.com/." name="citation_abstract" />
<meta content="summary" name="twitter:card" />
<meta content="Minimalist Data Wrangling with Python" name="twitter:title" />
<meta content="Minimalist Data Wrangling with Python" name="og:title" />
<meta content="Minimalist Data Wrangling with Python is envisaged as a student's first introduction to data science, providing a high-level overview as well as discussing key concepts in detail. We explore methods for cleaning data gathered from different sources, transforming, selecting, and extracting features, performing exploratory data analysis and dimensionality reduction, identifying naturally occurring data clusters, modelling patterns in data, comparing data between groups, and reporting the results. This textbook is a non-profit project. Its online and PDF versions are freely available at https://datawranglingpy.gagolewski.com/." name="twitter:description" />
<meta content="Minimalist Data Wrangling with Python is envisaged as a student's first introduction to data science, providing a high-level overview as well as discussing key concepts in detail. We explore methods for cleaning data gathered from different sources, transforming, selecting, and extracting features, performing exploratory data analysis and dimensionality reduction, identifying naturally occurring data clusters, modelling patterns in data, comparing data between groups, and reporting the results. This textbook is a non-profit project. Its online and PDF versions are freely available at https://datawranglingpy.gagolewski.com/." name="og:description" />
<meta content="gagolews/datawranglingpy" name="og:site_name" />
<meta content="https://datawranglingpy.gagolewski.com/" name="og:url" />
<meta content="https://datawranglingpy.gagolewski.com/_images/cover.png" name="twitter:image" />
<meta content="https://datawranglingpy.gagolewski.com/_images/cover.png" name="og:image" />
<meta content="https://datawranglingpy.gagolewski.com/" name="DC.identifier" />
<meta content="Marek Gagolewski" name="DC.publisher" />
<meta content="INDEX,FOLLOW" name="robots" />
<meta content="book" name="og:type" />
<meta content="9780645571912" name="og:book:isbn" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="8. Processing Multidimensional Data" href="320-transform-matrix.html" /><link rel="prev" title="6. Continuous Probability Distributions" href="230-distribution.html" />
        <link rel="canonical" href="https://datawranglingpy.gagolewski.com/chapter/310-matrix.html" />

    <link rel="shortcut icon" href="../_static/favicon.png"/><!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>7. Multidimensional Numeric Data at a Glance - Minimalist Data Wrangling with Python</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: red;
  --color-brand-content: #CC3333;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Minimalist Data Wrangling with Python</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">

<span class="sidebar-brand-text">
<a class="sidebar-brand" href="../index.html">Minimalist Data Wrangling with Python</a>
</span>
<div class="sidebar-brand">
An open-access textbook<br />
by <a href='https://www.gagolewski.com' style="display: contents">Marek Gagolewski</a><br />
v1.0.3.9002
</div>
<form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">About</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.gagolewski.com/">Author</a></li>
<li class="toctree-l1"><a class="reference external" href="https://datawranglingpy.gagolewski.com/datawranglingpy.pdf">This Book in PDF</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.amazon.com/dp/0645571911">Printed Version</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/datawranglingpy/">Report Bugs or Typos (GitHub)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/teaching-data">Datasets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://deepr.gagolewski.com">Deep R Programming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Start Here</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="000-preface.html">Preface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introducing Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="110-setup.html">1. Getting Started with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="120-scalar.html">2. Scalar Types and Control Structures in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="130-sequential.html">3. Sequential and Other Types in Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Unidimensional Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="210-vector.html">4. Unidimensional Numeric Data and Their Empirical Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="220-transform-vector.html">5. Processing Unidimensional Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="230-distribution.html">6. Continuous Probability Distributions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Multidimensional Data</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">7. Multidimensional Numeric Data at a Glance</a></li>
<li class="toctree-l1"><a class="reference internal" href="320-transform-matrix.html">8. Processing Multidimensional Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="330-relationship.html">9. Exploring Relationships Between Variables</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Heterogeneous Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="410-data-frame.html">10. Introducing Data Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="420-categorical.html">11. Handling Categorical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="430-group-by.html">12. Processing Data in Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="440-sql.html">13. Accessing Databases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Data Types</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="510-text.html">14. Text Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="520-missingness.html">15. Missing, Censored, and Questionable Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="530-time-series.html">16. Time Series</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="998-changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="999-bibliography.html">References</a></li>
</ul>

</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/gagolews/datawranglingpy/issues/" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="multidimensional-numeric-data-at-a-glance">
<span id="chap-matrix"></span><h1><span class="section-number">7. </span>Multidimensional Numeric Data at a Glance<a class="headerlink" href="#multidimensional-numeric-data-at-a-glance" title="Permalink to this heading">#</a></h1>
<blockquote>
<div><p><em>The open-access textbook</em> Minimalist Data
Wrangling with Python <em>by <a class="reference external" href="https://www.gagolewski.com">Marek Gagolewski</a>
is, and will remain, freely available for everyone’s enjoyment
(also in <a class="reference external" href="https://datawranglingpy.gagolewski.com/datawranglingpy.pdf">PDF</a>;
a printed version can be ordered from
<a class="reference external" href="https://www.amazon.com/dp/0645571911">Amazon</a>:
<a class="reference external" href="https://amazon.com.au/dp/0645571911">AU</a>
<a class="reference external" href="https://amazon.ca/dp/0645571911">CA</a>
<a class="reference external" href="https://amazon.de/dp/0645571911">DE</a>
<a class="reference external" href="https://amazon.es/dp/0645571911">ES</a>
<a class="reference external" href="https://amazon.fr/dp/0645571911">FR</a>
<a class="reference external" href="https://amazon.it/dp/0645571911">IT</a>
<a class="reference external" href="https://amazon.co.jp/dp/0645571911">JP</a>
<a class="reference external" href="https://amazon.nl/dp/0645571911">NL</a>
<a class="reference external" href="https://amazon.pl/dp/0645571911">PL</a>
<a class="reference external" href="https://amazon.se/dp/0645571911">SE</a>
<a class="reference external" href="https://amazon.co.uk/dp/0645571911">UK</a>
<a class="reference external" href="https://amazon.com/dp/0645571911">US</a>).
It is a non-profit project.
Although available online, it is a whole course;
it should be read from the beginning to the end.
Refer to the <a class="reference internal" href="000-preface.html#chap-preface"><span class="std std-ref">Preface</span></a> for general introductory remarks. Any
<a class="reference external" href="https://github.com/gagolews/datawranglingpy/issues">bug/typo reports/fixes</a>
are appreciated.</em>
<em>Also, make sure to check out my other book,
<a class="reference external" href="https://deepr.gagolewski.com/"><em>Deep R Programming</em></a>
<span id="id1">[<a class="reference internal" href="999-bibliography.html#id2" title="Gagolewski, M. (2023).  Deep R Programming. Zenodo, Melbourne. early draft. URL: https://deepr.gagolewski.com/, DOI: 10.5281/zenodo.7490464.">34</a>]</span>.</em></p>
</div></blockquote>
<p>From the perspective of structured datasets,
a vector often represents <em>n</em> independent measurements
of the same quantitative property,
e.g., heights of <em>n</em> different patients,
incomes in <em>n</em> randomly chosen households,
or ages of <em>n</em> runners.
More generally, these are all instances of a bag of
<em>n</em> points on the real line.
By far<a class="footnote-reference brackets" href="#footsolveex" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> we should have become quite fluent with the methods
for processing such one-dimensional arrays.</p>
<p>Let us increase the level of complexity
by allowing each of the <em>n</em> entities to be described by <em>m</em> features,
for any <span class="math notranslate nohighlight">\(m\ge 1\)</span>.
In other words, we will be dealing with <em>n</em> points
in an <em>m</em>-dimensional space, <span class="math notranslate nohighlight">\(\mathbb{R}^m\)</span>.</p>
<p>We can arrange all the observations in a table with <em>n</em> rows and <em>m</em> columns
(just like in spreadsheets).
Such an object can be expressed with <strong class="program">numpy</strong> as a two-dimensional
array which we will refer to as <em>matrices</em>.
Thanks to matrices, we can keep the <em>n</em> tuples of length
<em>m</em> together in a single object and process them all at once
(or <em>m</em> tuples of length <em>n</em>, depending on how we want to look at them).
Very convenient.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Just like vectors, matrices were
designed to store data of the same type.
In <a class="reference internal" href="410-data-frame.html#chap-data-frame"><span class="std std-numref">Chapter 10</span></a>, we will cover <em>data frames</em>,
which further increase the degree of
complexity (and freedom) by not only allowing for mixed data types
(e.g., numerical and categorical; this will enable us
to perform data analysis in subgroups more easily)
but also for the rows and columns be named.</p>
<p>Many data analysis algorithms convert data frames to matrices
automatically and deal with them as such.
From the computational side, it is <strong class="program">numpy</strong> that does
most of the “mathematical” work.
<strong class="program">pandas</strong> implements many recipes for basic data wrangling
tasks, but we want to go way beyond that.
After all, we would like to be able to tackle <em>any</em> problem.</p>
</div>
<section id="creating-matrices">
<h2><span class="section-number">7.1. </span>Creating Matrices<a class="headerlink" href="#creating-matrices" title="Permalink to this heading">#</a></h2>
<section id="reading-csv-files">
<h3><span class="section-number">7.1.1. </span>Reading CSV Files<a class="headerlink" href="#reading-csv-files" title="Permalink to this heading">#</a></h3>
<p>Tabular data are often stored and distributed
in a very portable plain-text format called CSV (comma-separated values)
or variants thereof.
We can read them quite easily with <strong class="command">numpy.genfromtxt</strong>
(or later with <strong class="command">pandas.read_csv</strong>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/gagolews/&quot;</span> <span class="o">+</span>
    <span class="s2">&quot;teaching-data/master/marek/nhanes_adult_female_bmx_2020.csv&quot;</span><span class="p">,</span>
    <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:,</span> <span class="p">:]</span>  <span class="c1"># skip first row (column names)</span>
</pre></div>
</div>
<p>Note that the file specifies column names (the first non-comment line),
therefore we had to skip it manually (more on matrix indexing later).
Here is a preview of the first few rows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="p">[:</span><span class="mi">6</span><span class="p">,</span> <span class="p">:]</span>  <span class="c1"># six first rows, all columns</span>
<span class="c1">## array([[ 97.1, 160.2,  34.7,  40.8,  35.8, 126.1, 117.9],</span>
<span class="c1">##        [ 91.1, 152.7,  33.5,  33. ,  38.5, 125.5, 103.1],</span>
<span class="c1">##        [ 73. , 161.2,  37.4,  38. ,  31.8, 106.2,  92. ],</span>
<span class="c1">##        [ 61.7, 157.4,  38. ,  34.7,  29. , 101. ,  90.5],</span>
<span class="c1">##        [ 55.4, 154.6,  34.6,  34. ,  28.3,  92.5,  73.2],</span>
<span class="c1">##        [ 62. , 144.7,  32.5,  34.2,  29.8, 106.7,  84.8]])</span>
</pre></div>
</div>
<p>This is an extended version of the
National Health and Nutrition Examination Survey
(<a class="reference external" href="https://wwwn.cdc.gov/nchs/nhanes/search/datapage.aspx">NHANES</a>),
where the consecutive columns give the following body measurements
of adult females:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body_columns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="s2">&quot;weight (kg)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;standing height (cm)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;upper arm len. (cm)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;upper leg len. (cm)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;arm circ. (cm)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hip circ. (cm)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;waist circ. (cm)&quot;</span>
<span class="p">])</span>
</pre></div>
</div>
<p><strong class="program">numpy</strong> matrices do not support column naming. This is why we noted
them down separately. It is only a minor inconvenience.
<strong class="program">pandas</strong> data frames will have this capability, but from the
algebraic side, they are not as convenient as matrices for the purpose of
scientific computing.</p>
<div style="margin-top: 1em"></div><p>What we are dealing with is still a <strong class="program">numpy</strong> array:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>  <span class="c1"># class of this object</span>
<span class="c1">## &lt;class &#39;numpy.ndarray&#39;&gt;</span>
</pre></div>
</div>
<p>But this time it is a two-dimensional one:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="o">.</span><span class="n">ndim</span>  <span class="c1"># number of dimensions</span>
<span class="c1">## 2</span>
</pre></div>
</div>
<p>which means that the <code class="docutils literal notranslate"><span class="pre">shape</span></code> slot is now a tuple of length 2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="o">.</span><span class="n">shape</span>
<span class="c1">## (4221, 7)</span>
</pre></div>
</div>
<p>The above gave the total number of rows and columns, respectively.</p>
</section>
<section id="enumerating-elements">
<h3><span class="section-number">7.1.2. </span>Enumerating Elements<a class="headerlink" href="#enumerating-elements" title="Permalink to this heading">#</a></h3>
<p><strong class="command">numpy.array</strong> can create a two-dimensional array based on a list
of lists or vector-like objects, all of the same lengths.
Each of them will constitute a separate row of the resulting matrix.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>  <span class="c1"># list of lists</span>
    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span> <span class="p">],</span>  <span class="c1"># the 1st row</span>
    <span class="p">[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span> <span class="p">],</span>  <span class="c1"># the 2nd row</span>
    <span class="p">[</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span> <span class="p">]</span>   <span class="c1"># the 3rd row</span>
<span class="p">])</span>
<span class="c1">## array([[ 1,  2,  3,  4],</span>
<span class="c1">##        [ 5,  6,  7,  8],</span>
<span class="c1">##        [ 9, 10, 11, 12]])</span>
</pre></div>
</div>
<p>gives a 3-by-4 (3×4) matrix,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">])</span>
<span class="c1">## array([[1],</span>
<span class="c1">##        [2],</span>
<span class="c1">##        [3]])</span>
</pre></div>
</div>
<p>yields a 3-by-1 one (we call it a <em>column vector</em>,
but it is a special matrix — we will soon learn that shapes
can make a significant difference), and</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="p">])</span>
<span class="c1">## array([[1, 2, 3, 4]])</span>
</pre></div>
</div>
<p>produces a 1-by-4 array (a <em>row vector</em>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An ordinary vector (a unidimensional array) only uses
a single pair of square brackets:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="c1">## array([1, 2, 3, 4])</span>
</pre></div>
</div>
</div>
</section>
<section id="repeating-arrays">
<h3><span class="section-number">7.1.3. </span>Repeating  Arrays<a class="headerlink" href="#repeating-arrays" title="Permalink to this heading">#</a></h3>
<p>The previously mentioned <strong class="command">numpy.tile</strong> and <strong class="command">numpy.repeat</strong>
can also generate some nice matrices.
For instance,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="mi">3</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">## array([[1, 2, 3, 4],</span>
<span class="c1">##        [1, 2, 3, 4],</span>
<span class="c1">##        [1, 2, 3, 4]])</span>
</pre></div>
</div>
<p>repeats a row vector rowwisely (i.e., over axis <code class="docutils literal notranslate"><span class="pre">0</span></code> – the first one).</p>
<p>Replicating a column vector columnwisely (i.e.,
over axis <code class="docutils literal notranslate"><span class="pre">1</span></code> – the second one) is possible as well:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="mi">4</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">## array([[1, 1, 1, 1],</span>
<span class="c1">##        [2, 2, 2, 2],</span>
<span class="c1">##        [3, 3, 3, 3]])</span>
</pre></div>
</div>
<div class="proof proof-type-exercise" id="id7">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.1</span>
        
    </div><div class="proof-content">
<p>How can we generate matrices of the following kinds?</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\left[
\begin{array}{cc}
    1 &amp; 2 \\
    1 &amp; 2 \\
    1 &amp; 2 \\
    3 &amp; 4 \\
    3 &amp; 4 \\
    3 &amp; 4 \\
    3 &amp; 4 \\
\end{array}
\right], \qquad
\left[
\begin{array}{cccccc}
    1 &amp; 2 &amp; 1 &amp; 2&amp; 1&amp; 2 \\
    1 &amp; 2 &amp; 1 &amp; 2&amp; 1&amp; 2 \\
\end{array}
\right], \qquad
\left[
\begin{array}{ccccc}
    1&amp; 1&amp;  2&amp; 2 &amp; 2 \\
    3&amp; 3&amp;  4&amp; 4 &amp; 4 \\
\end{array}
\right].\end{split}\]</div>
</div>
</div></div></section>
<section id="stacking-arrays">
<span id="sec-stacking-array"></span><h3><span class="section-number">7.1.4. </span>Stacking Arrays<a class="headerlink" href="#stacking-arrays" title="Permalink to this heading">#</a></h3>
<p><strong class="command">numpy.column_stack</strong> and <strong class="command">numpy.row_stack</strong> take
a tuple of array-like objects and bind them column- or rowwisely
to form a new matrix:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">(([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]))</span>  <span class="c1"># a tuple of lists</span>
<span class="c1">## array([[10, 30, 50],</span>
<span class="c1">##        [20, 40, 60]])</span>
<span class="n">np</span><span class="o">.</span><span class="n">row_stack</span><span class="p">(([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]))</span>
<span class="c1">## array([[10, 20],</span>
<span class="c1">##        [30, 40],</span>
<span class="c1">##        [50, 60]])</span>
<span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">((</span>
    <span class="n">np</span><span class="o">.</span><span class="n">row_stack</span><span class="p">(([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">])),</span>
    <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]</span>
<span class="p">))</span>
<span class="c1">## array([[10, 20, 70],</span>
<span class="c1">##        [30, 40, 80],</span>
<span class="c1">##        [50, 60, 90]])</span>
</pre></div>
</div>
<div class="proof proof-type-exercise" id="id8">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.2</span>
        
    </div><div class="proof-content">
<p>Perform similar operations
using <strong class="command">numpy.append</strong>, <strong class="command">numpy.vstack</strong>, <strong class="command">numpy.hstack</strong>,
<strong class="command">numpy.concatenate</strong>, and (*) <strong class="command">numpy.c_</strong>.</p>
</div></div><div class="proof proof-type-exercise" id="id9">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.3</span>
        
    </div><div class="proof-content">
<p>Using <strong class="command">numpy.insert</strong>,
and a new row/column at the beginning, end, and in the middle
of an array. Let us stress that this function returns a new array.</p>
</div></div></section>
<section id="other-functions">
<h3><span class="section-number">7.1.5. </span>Other Functions<a class="headerlink" href="#other-functions" title="Permalink to this heading">#</a></h3>
<p>Many built-in functions allow for generating arrays
of arbitrary shapes (not only vectors). For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># not: rand((2, 5))</span>
<span class="c1">## array([[0.69646919, 0.28613933, 0.22685145, 0.55131477, 0.71946897],</span>
<span class="c1">##        [0.42310646, 0.9807642 , 0.68482974, 0.4809319 , 0.39211752]])</span>
</pre></div>
</div>
<p>The same with <strong class="program">scipy</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">uniform</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="c1">## array([[0.69646919, 0.28613933, 0.22685145, 0.55131477, 0.71946897],</span>
<span class="c1">##        [0.42310646, 0.9807642 , 0.68482974, 0.4809319 , 0.39211752]])</span>
</pre></div>
</div>
<p>The way we specify the output shapes might differ
across functions and packages. Consequently, as usual, it is always best
to refer to their documentation.</p>
<div class="proof proof-type-exercise" id="id10">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.4</span>
        
    </div><div class="proof-content">
<p>Check out the documentation of the following functions:
<strong class="command">numpy.eye</strong>, <strong class="command">numpy.diag</strong>, <strong class="command">numpy.zeros</strong>,
<strong class="command">numpy.ones</strong>, and <strong class="command">numpy.empty</strong>.</p>
</div></div></section>
</section>
<section id="reshaping-matrices">
<h2><span class="section-number">7.2. </span>Reshaping Matrices<a class="headerlink" href="#reshaping-matrices" title="Permalink to this heading">#</a></h2>
<p>Let us take an example 3-by-4 matrix:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span> <span class="p">]</span>
<span class="p">])</span>
</pre></div>
</div>
<p>Internally, a matrix is represented using a <em>long</em> flat vector
where elements are stored in
the row-major<a class="footnote-reference brackets" href="#footrowmajor" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> order:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">size</span>  <span class="c1"># total number of elements</span>
<span class="c1">## 12</span>
<span class="n">A</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>  <span class="c1"># the underlying array</span>
<span class="c1">## array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12])</span>
</pre></div>
</div>
<p>It is the <code class="docutils literal notranslate"><span class="pre">shape</span></code> slot that is causing the 12 elements to be treated as
if they were arranged on a 3-by-4 grid,
for example in different algebraic computations and during
the printing thereof.
This arrangement can be altered anytime without modifying
the underlying array:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">A</span>
<span class="c1">## array([[ 1,  2,  3],</span>
<span class="c1">##        [ 4,  5,  6],</span>
<span class="c1">##        [ 7,  8,  9],</span>
<span class="c1">##        [10, 11, 12]])</span>
</pre></div>
</div>
<p>This way, we obtained a different <em>view</em> of the same data.</p>
<div style="margin-top: 1em"></div><p>For convenience, there is also the <strong class="command">reshape</strong> method
that returns a modified version of the object it is applied on:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1"># A.reshape(don&#39;t make me compute this for you mate!, 6)</span>
<span class="c1">## array([[ 1,  2,  3,  4,  5,  6],</span>
<span class="c1">##        [ 7,  8,  9, 10, 11, 12]])</span>
</pre></div>
</div>
<p>Here, “<code class="docutils literal notranslate"><span class="pre">-1</span></code>” means that <strong class="program">numpy</strong> must deduce by itself how many rows
we want in the result. Twelve elements are supposed
to be arranged in six columns, so the maths behind it is not rocket science.</p>
<p>Thanks to this, generating row or column vectors is straightforward:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># one row, auto-guess number of columns</span>
<span class="c1">## array([[0.  , 0.25, 0.5 , 0.75, 1.  ]])</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">9099</span><span class="p">,</span> <span class="mi">2537</span><span class="p">,</span> <span class="mi">1832</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># auto-guess rows, one columns</span>
<span class="c1">## array([[9099],</span>
<span class="c1">##        [2537],</span>
<span class="c1">##        [1832]])</span>
</pre></div>
</div>
<div style="margin-top: 1em"></div><p>Reshaping is not the same as matrix <em>transpose</em>, which also
changes the order of elements in the underlying array:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">A</span>  <span class="c1"># before</span>
<span class="c1">## array([[ 1,  2,  3],</span>
<span class="c1">##        [ 4,  5,  6],</span>
<span class="c1">##        [ 7,  8,  9],</span>
<span class="c1">##        [10, 11, 12]])</span>
<span class="n">A</span><span class="o">.</span><span class="n">T</span>  <span class="c1"># transpose of A</span>
<span class="c1">## array([[ 1,  4,  7, 10],</span>
<span class="c1">##        [ 2,  5,  8, 11],</span>
<span class="c1">##        [ 3,  6,  9, 12]])</span>
</pre></div>
</div>
<p>We see that the rows became columns and vice versa.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*)
Higher-dimensional arrays are also possible.
For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">## array([[[ 0,  1,  2],</span>
<span class="c1">##         [ 3,  4,  5],</span>
<span class="c1">##         [ 6,  7,  8],</span>
<span class="c1">##         [ 9, 10, 11]],</span>
<span class="c1">## </span>
<span class="c1">##        [[12, 13, 14],</span>
<span class="c1">##         [15, 16, 17],</span>
<span class="c1">##         [18, 19, 20],</span>
<span class="c1">##         [21, 22, 23]]])</span>
</pre></div>
</div>
<p>Is an array of “depth” 2, “height” 4, and “width” 3;
we can see it as two 4-by-3 matrices stacked together.
Theoretically, they can be used for representing contingency tables for
products of many factors.
Still, in our application areas, we prefer to stick with
long data frames instead; see <a class="reference internal" href="410-data-frame.html#sec-stack"><span class="std std-numref">Section 10.6.2</span></a>.
This is due to their more aesthetic display and better handling of
sparse data.</p>
</div>
</section>
<section id="mathematical-notation">
<h2><span class="section-number">7.3. </span>Mathematical Notation<a class="headerlink" href="#mathematical-notation" title="Permalink to this heading">#</a></h2>
<p>Here is some standalone mathematical notation that we shall
be employing in this course.
A matrix with <em>n</em> rows and <em>m</em> columns
(an <em>n</em>-by-<em>m</em> matrix) <span class="math notranslate nohighlight">\(\mathbf{X}\)</span> can be written as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbf{X}=
\left[
\begin{array}{cccc}
x_{1,1} &amp; x_{1,2} &amp; \cdots &amp; x_{1,m} \\
x_{2,1} &amp; x_{2,2} &amp; \cdots &amp; x_{2,m} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
x_{n,1} &amp; x_{n,2} &amp; \cdots &amp; x_{n,m} \\
\end{array}
\right].
\end{split}\]</div>
</div>
<p>Mathematically, we denote this as <span class="math notranslate nohighlight">\(\mathbf{X}\in\mathbb{R}^{n\times m}\)</span>.
Looking at the above, if this makes us think of how data are
displayed in spreadsheets, we are correct, because
the latter was inspired by the former.</p>
<p>We see that
<span class="math notranslate nohighlight">\(x_{i,j}\in\mathbb{R}\)</span> denotes
the element in the <span class="math notranslate nohighlight">\(i\)</span>-th row (e.g., the <span class="math notranslate nohighlight">\(i\)</span>-th <em>observation</em>)
and the <span class="math notranslate nohighlight">\(j\)</span>-th column (e.g., the <span class="math notranslate nohighlight">\(j\)</span>-th <em>feature</em> or <em>variable</em>), for every
<span class="math notranslate nohighlight">\(i=1,\dots,n\)</span>, <span class="math notranslate nohighlight">\(j=1,\dots,m\)</span>.</p>
<p>In particular, if <span class="math notranslate nohighlight">\(\mathbf{X}\)</span> denoted the <code class="docutils literal notranslate"><span class="pre">body</span></code> dataset,
then <span class="math notranslate nohighlight">\(x_{1,2}\)</span> would be the height of the 1st person.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Matrices are a convenient means of representing many different kinds of data:</p>
<ul class="simple">
<li><p><em>n</em> points in an <em>m</em>-dimensional space
(like <em>n</em> observations for which there are <em>m</em>
measurements/features recorded,
where each row describes a different object;
exactly the case of the <code class="docutils literal notranslate"><span class="pre">body</span></code> dataset above) – this
is the most common scenario;</p></li>
<li><p><em>m</em> time series sampled at <em>n</em> points in time (e.g., prices of <em>m</em>
different currencies on <em>n</em> consecutive days;
see <a class="reference internal" href="530-time-series.html#chap-time-series"><span class="std std-numref">Chapter 16</span></a>);</p></li>
<li><p>a single kind of measurement for data
in <em>m</em> groups, each consisting of <em>n</em> subjects
(e.g., heights of <em>n</em> males and <em>n</em> females);
here, the order of elements in each column does not usually
matter as observations are not <em>paired</em>; there is no relationship
between <span class="math notranslate nohighlight">\(x_{i,j}\)</span> and <span class="math notranslate nohighlight">\(x_{i,k}\)</span> for <span class="math notranslate nohighlight">\(j\neq k\)</span>;
a matrix is used merely as a convenient container for
storing a few unrelated vectors of identical sizes;
we will be dealing with a more generic case of possibly
nonhomogeneous groups in <a class="reference internal" href="430-group-by.html#chap-group-by"><span class="std std-numref">Chapter 12</span></a>;</p></li>
<li><p>two-way contingency tables (see <a class="reference internal" href="420-categorical.html#sec-contingency-two"><span class="std std-numref">Section 11.2.2</span></a>),
where an element
<span class="math notranslate nohighlight">\(x_{i,j}\)</span> gives the number of occurrences of items
at the <span class="math notranslate nohighlight">\(i\)</span>-th level of the first categorical variable and,
at the same time, being at the <span class="math notranslate nohighlight">\(j\)</span>-th level of the second
variable (e.g., blue-eyed <em>and</em> blonde-haired);</p></li>
<li><p>graphs and other relationships between objects,
e.g., <span class="math notranslate nohighlight">\(x_{i,j}=0\)</span> might denote that the <span class="math notranslate nohighlight">\(i\)</span>-th object
is not connected<a class="footnote-reference brackets" href="#footsparse" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> with the <span class="math notranslate nohighlight">\(j\)</span>-th one
and <span class="math notranslate nohighlight">\(x_{k,l}=0.2\)</span> that there is a weak connection between
<span class="math notranslate nohighlight">\(k\)</span> and <span class="math notranslate nohighlight">\(l\)</span>
(e.g., who is a friend of whom, whether a user recommends
a particular item);</p></li>
<li><p>images, where <span class="math notranslate nohighlight">\(x_{i,j}\)</span> represents the
intensity of a colour component (e.g., red, green, blue
or shades of grey or hue, saturation, brightness;
compare <a class="reference internal" href="530-time-series.html#sec-image"><span class="std std-numref">Section 16.4</span></a>)
of a pixel in the <span class="math notranslate nohighlight">\((n-i+1)\)</span>-th row and the <span class="math notranslate nohighlight">\(j\)</span>-th column.</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In practice, more complex and
less-structured data can quite often be mapped to a tabular form.
For instance, a set of audio recordings
can be described by measuring the overall loudness,
timbre, and danceability of each song.
Also, a collection of documents can be described
by means of the degrees of belongingness to some
automatically discovered topics
(e.g., someone said that Joyce’s <em>Ulysses</em> is
80% travel literature, 70% comedy,
and 50% heroic fantasy, but let us not take it for granted).</p>
</div>
<section id="row-and-column-vectors">
<h3><span class="section-number">7.3.1. </span>Row and Column Vectors<a class="headerlink" href="#row-and-column-vectors" title="Permalink to this heading">#</a></h3>
<p>Additionally, will sometimes use the following notation to emphasise
that <span class="math notranslate nohighlight">\(\mathbf{X}\)</span> consists of <span class="math notranslate nohighlight">\(n\)</span> rows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbf{X}
=
\left[
\begin{array}{c}
\mathbf{x}_{1,\cdot} \\
\mathbf{x}_{2,\cdot} \\
\vdots\\
\mathbf{x}_{n,\cdot} \\
\end{array}
\right].
\end{split}\]</div>
</div>
<p>Here, <span class="math notranslate nohighlight">\(\mathbf{x}_{i,\cdot}\)</span> is a <em>row vector</em> of length <span class="math notranslate nohighlight">\(m\)</span>,
i.e., a <span class="math notranslate nohighlight">\((1\times m)\)</span>-matrix:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbf{x}_{i,\cdot} = \left[
\begin{array}{cccc}
x_{i,1} &amp;
x_{i,2} &amp;
\cdots &amp;
x_{i,m} \\
\end{array}
\right].
\end{split}\]</div>
</div>
<div style="margin-top: 1em"></div><p>Alternatively, we can specify the <span class="math notranslate nohighlight">\(m\)</span> columns:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbf{X}
=
\left[
\begin{array}{cccc}
\mathbf{x}_{\cdot,1} &amp;
\mathbf{x}_{\cdot,2} &amp;
\cdots &amp;
\mathbf{x}_{\cdot,m} \\
\end{array}
\right],
\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{x}_{\cdot,j}\)</span> is a <em>column vector</em> of length <span class="math notranslate nohighlight">\(n\)</span>,
i.e., an <span class="math notranslate nohighlight">\((n\times 1)\)</span>-matrix:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbf{x}_{\cdot,j} = \left[
\begin{array}{cccc}
x_{1,j} &amp;
x_{2,j} &amp;
\cdots &amp;
x_{n,j} \\
\end{array}
\right]^T=\left[
\begin{array}{c}
{x}_{1,j} \\
{x}_{2,j} \\
\vdots\\
{x}_{n,j} \\
\end{array}
\right],
\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\cdot^T\)</span> denotes the transpose of a given matrix
(thanks to which we can save some vertical space, we do not
want this book to be 1000 pages long, do we?).</p>
<div style="margin-top: 1em"></div><p>Also, recall that we are used to denoting
<em>vectors</em> of length <span class="math notranslate nohighlight">\(m\)</span> with <span class="math notranslate nohighlight">\(\boldsymbol{x}=(x_1, \dots, x_m)\)</span>.
A vector is a one-dimensional array (not a two-dimensional one),
hence a slightly different font in the case where ambiguity
can be troublesome.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To avoid notation clutter, we will often be implicitly  promoting
vectors like <span class="math notranslate nohighlight">\(\boldsymbol{x}=(x_1,\dots,x_m)\)</span>
to row vectors <span class="math notranslate nohighlight">\(\mathbf{x}=[x_1\,\cdots\,x_m]\)</span>,
because this is the behaviour that <strong class="program">numpy</strong><a class="footnote-reference brackets" href="#footcolumnwisevecs" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>
uses; see <a class="reference internal" href="320-transform-matrix.html#chap-transform-matrix"><span class="std std-numref">Chapter 8</span></a>.</p>
</div>
</section>
<section id="transpose">
<h3><span class="section-number">7.3.2. </span>Transpose<a class="headerlink" href="#transpose" title="Permalink to this heading">#</a></h3>
<p>The <em>transpose</em> of a matrix
<span class="math notranslate nohighlight">\(\mathbf{X}\in\mathbb{R}^{n\times m}\)</span>
is an <span class="math notranslate nohighlight">\((m\times n)\)</span>-matrix <span class="math notranslate nohighlight">\(\mathbf{Y}\)</span> given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbf{Y}=
\mathbf{X}^T=
\left[
\begin{array}{cccc}
x_{1,1} &amp; x_{2,1} &amp; \cdots &amp; x_{m,1} \\
x_{1,2} &amp; x_{2,2} &amp; \cdots &amp; x_{m,2} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
x_{1,n} &amp; x_{2,n} &amp; \cdots &amp; x_{m,n} \\
\end{array}
\right],
\end{split}\]</div>
</div>
<p>i.e., it enjoys <span class="math notranslate nohighlight">\(y_{i,j}=x_{j, i}\)</span>.</p>
<div class="proof proof-type-exercise" id="id11">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.5</span>
        
    </div><div class="proof-content">
<p>Compare the display of an example matrix
<code class="docutils literal notranslate"><span class="pre">A</span></code> and its transpose <code class="docutils literal notranslate"><span class="pre">A.T</span></code> above.</p>
</div></div></section>
<section id="identity-and-other-diagonal-matrices">
<h3><span class="section-number">7.3.3. </span>Identity and Other Diagonal Matrices<a class="headerlink" href="#identity-and-other-diagonal-matrices" title="Permalink to this heading">#</a></h3>
<p><span class="math notranslate nohighlight">\(\mathbf{I}\)</span> denotes the <em>identity matrix</em>,
being a square <span class="math notranslate nohighlight">\(n\times n\)</span> matrix
(with <span class="math notranslate nohighlight">\(n\)</span> most often clear from the context)
with 0s everywhere except on the main diagonal, where 1s lie.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># I</span>
<span class="c1">## array([[1., 0., 0., 0., 0.],</span>
<span class="c1">##        [0., 1., 0., 0., 0.],</span>
<span class="c1">##        [0., 0., 1., 0., 0.],</span>
<span class="c1">##        [0., 0., 0., 1., 0.],</span>
<span class="c1">##        [0., 0., 0., 0., 1.]])</span>
</pre></div>
</div>
<p>The identity matrix is a neutral element of the matrix multiplication
(<a class="reference internal" href="320-transform-matrix.html#sec-matrix-multiply"><span class="std std-numref">Section 8.3</span></a>).</p>
<p>More generally, any diagonal matrix,
<span class="math notranslate nohighlight">\(\mathrm{diag}(a_1,\dots,a_n)\)</span>,
can be constructed from a given sequence of elements by calling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="c1">## array([[1, 0, 0, 0],</span>
<span class="c1">##        [0, 2, 0, 0],</span>
<span class="c1">##        [0, 0, 3, 0],</span>
<span class="c1">##        [0, 0, 0, 4]])</span>
</pre></div>
</div>
</section>
</section>
<section id="visualising-multidimensional-data">
<span id="sec-visual-multidim"></span><h2><span class="section-number">7.4. </span>Visualising Multidimensional Data<a class="headerlink" href="#visualising-multidimensional-data" title="Permalink to this heading">#</a></h2>
<p>Let us go back to our <code class="docutils literal notranslate"><span class="pre">body</span></code> dataset:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="p">[:</span><span class="mi">6</span><span class="p">,</span> <span class="p">:]</span>  <span class="c1"># preview</span>
<span class="c1">## array([[ 97.1, 160.2,  34.7,  40.8,  35.8, 126.1, 117.9],</span>
<span class="c1">##        [ 91.1, 152.7,  33.5,  33. ,  38.5, 125.5, 103.1],</span>
<span class="c1">##        [ 73. , 161.2,  37.4,  38. ,  31.8, 106.2,  92. ],</span>
<span class="c1">##        [ 61.7, 157.4,  38. ,  34.7,  29. , 101. ,  90.5],</span>
<span class="c1">##        [ 55.4, 154.6,  34.6,  34. ,  28.3,  92.5,  73.2],</span>
<span class="c1">##        [ 62. , 144.7,  32.5,  34.2,  29.8, 106.7,  84.8]])</span>
<span class="n">body</span><span class="o">.</span><span class="n">shape</span>
<span class="c1">## (4221, 7)</span>
</pre></div>
</div>
<p>This is an example of tabular (“structured”) data. The important property is
that the elements in each row describe the same person.
We can freely reorder all the columns at the same time
(change the order of participants).
Still, sorting a single column and leaving the other ones
unchanged will be semantically invalid.</p>
<p>Mathematically, we consider the above as
a set of 4221 points in a seven-dimensional space, <span class="math notranslate nohighlight">\(\mathbb{R}^7\)</span>.
Let us discuss how we can try visualising different
natural <em>projections</em> thereof.</p>
<section id="d-data">
<h3><span class="section-number">7.4.1. </span>2D Data<a class="headerlink" href="#d-data" title="Permalink to this heading">#</a></h3>
<p>A <em>scatterplot</em> can be used to visualise one variable against another one.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">body</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">body</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;#00000022&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id12">
<span id="fig-body-scatter-1-3"></span><img alt="../_images/body-scatter-1-3-1.png" src="../_images/body-scatter-1-3-1.png" />
<figcaption>
<p><span class="caption-number">Figure 7.1 </span><span class="caption-text">An example scatterplot</span><a class="headerlink" href="#id12" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#fig-body-scatter-1-3"><span class="std std-numref">Figure 7.1</span></a> depicts
upper leg length (the y-axis) vs (versus; against; as a function of)
standing height (the x-axis) in the form
of a point cloud with <span class="math notranslate nohighlight">\((x, y)\)</span> coordinates like
<code class="docutils literal notranslate"><span class="pre">(body[i,</span> <span class="pre">1],</span> <span class="pre">body[i,</span> <span class="pre">3])</span></code>.</p>
<div class="proof proof-type-example" id="id13">

    <div class="proof-title">
        <span class="proof-type">Example 7.6</span>
        
    </div><div class="proof-content">
<p>Here are the exact coordinates of the point
corresponding to the person of the smallest height:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">body</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="c1">## array([131.1,  30.8])</span>
</pre></div>
</div>
<p>and here is the one with the greatest upper leg length:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">body</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="c1">## array([168.9,  49.1])</span>
</pre></div>
</div>
<p>Locate them in <a class="reference internal" href="#fig-body-scatter-1-3"><span class="std std-numref">Figure 7.1</span></a>.</p>
</div></div><p>As the points are abundant, normally we cannot easily see
<em>where</em> most of them are located.
To remedy this, we applied the simple trick
of plotting the points using a semi-transparent colour.
Here, the colour specifier was of the form <code class="docutils literal notranslate"><span class="pre">#rrggbbaa</span></code>,
giving the intensity of the red, green, blue, and alpha (opaqueness)
channel in three series of two hexadecimal digits (between <code class="docutils literal notranslate"><span class="pre">00</span></code> = 0
and <code class="docutils literal notranslate"><span class="pre">ff</span></code> = 255).</p>
<p>Overall, the plot reveals that there is a <em>general tendency</em>
for small heights and small upper leg lengths to occur frequently together.
The same with larger pairs. In <a class="reference internal" href="330-relationship.html#chap-relationship"><span class="std std-numref">Chapter 9</span></a>,
we explore some measures of correlation that will enable
us to quantify the degree of association
between variable pairs.</p>
</section>
<section id="d-data-and-beyond">
<h3><span class="section-number">7.4.2. </span>3D Data and Beyond<a class="headerlink" href="#d-data-and-beyond" title="Permalink to this heading">#</a></h3>
<p>If we have more than two variables
to visualise, we might be tempted to use, e.g.,
a three-dimensional scatterplot like the one in
<a class="reference internal" href="#fig-body-scatter-3d"><span class="std std-numref">Figure 7.2</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s2">&quot;3d&quot;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;#ffffff00&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">body</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">body</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">body</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#00000011&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="n">elev</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">azim</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">vertical_axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id14">
<span id="fig-body-scatter-3d"></span><img alt="../_images/body-scatter-3d-3.png" src="../_images/body-scatter-3d-3.png" />
<figcaption>
<p><span class="caption-number">Figure 7.2 </span><span class="caption-text">A three-dimensional scatterplot reveals almost nothing</span><a class="headerlink" href="#id14" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Infrequently will such a 3D plot provide us with readable results, though.
We are projecting a three-dimensional reality onto
a two-dimensional screen or page. Some information must inherently
be lost. Also, what we see is relative to the position of the
virtual camera.</p>
<div class="proof proof-type-exercise" id="id15">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.7</span>
        
    </div><div class="proof-content">
<p>(*)
Try finding an <em>interesting</em> elevation and azimuth angle
by playing with the arguments passed to the
<strong class="command">mpl_toolkits.mplot3d.axes3d.Axes3D.view_init</strong> function.
Also, depict arm circumference, hip circumference, and weight on
a 3D plot.</p>
</div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*)
Sometimes there might be facilities available to create an interactive
scatterplot (running the above from the Python’s console enables this),
where the virtual camera can be freely repositioned
with a mouse/touchpad. This can give some more insight into our data.
Also, there are means of creating animated sequences, where we
can fly over the data scene. Some people find it cool, others
find it annoying, but the biggest problem therewith is that
they cannot be included in printed material.
Yet, if we are only targeting the display for the Web (this
includes mobile devices), we can try
<a class="reference external" href="https://wiki.python.org/moin/NumericAndScientific/Plotting">some Python libraries</a>
that output HTML+CSS+JavaScript code to be rendered by a browser engine.</p>
</div>
<div class="proof proof-type-example" id="id16">

    <div class="proof-title">
        <span class="proof-type">Example 7.8</span>
        
    </div><div class="proof-content">
<p>Instead of drawing a 3D plot, it might be better
to play with different marker colours (or sometimes sizes:
think of them as bubbles). Suitable
<a class="reference external" href="https://matplotlib.org/stable/tutorials/colors/colormaps.html">colour maps</a>
can be used to distinguish between low and high values of an
additional variable, as in <a class="reference internal" href="#fig-scatter-3d-colour"><span class="std std-numref">Figure 7.3</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cm</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">body</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">],</span>    <span class="c1"># x</span>
    <span class="n">body</span><span class="p">[:,</span> <span class="mi">5</span><span class="p">],</span>    <span class="c1"># y</span>
    <span class="n">c</span><span class="o">=</span><span class="n">body</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>  <span class="c1"># &quot;z&quot; - colours</span>
    <span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s2">&quot;copper&quot;</span><span class="p">),</span>  <span class="c1"># colour map</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>  <span class="c1"># opaqueness level between 0 and 1</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;axes.grid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;axes.grid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">body_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id17">
<span id="fig-scatter-3d-colour"></span><img alt="../_images/scatter-3d-colour-5.png" src="../_images/scatter-3d-colour-5.png" />
<figcaption>
<p><span class="caption-number">Figure 7.3 </span><span class="caption-text">A two-dimensional scatter plot displaying three variables</span><a class="headerlink" href="#id17" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>We can see some tendency for the weight to be greater
as both the arm and the hip circumferences increase.</p>
</div></div><div class="proof proof-type-exercise" id="id18">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.9</span>
        
    </div><div class="proof-content">
<p>Play around with different colour palettes.
However, be wary that ca. every 1 in 12 men (8%) and 1 in 200 women
(0.5%) have colour vision deficiencies,
especially in the red-green or blue-yellow spectrum.
For this reason, some diverging colour maps might be worse than others.</p>
</div></div><div style="margin-top: 1em"></div><p>A piece of paper is two-dimensional. We only have height and width.
Looking around us, we also understand the notion of depth.
So far so good. But when the case of more-dimensional data
is concerned, well, suffice it to say that we are three-dimensional creatures
and any attempts towards visualising them will simply not work,
don’t even trip.</p>
<p>Luckily, this is where mathematics comes to our rescue.
With some more knowledge and intuitions, and this book helps us develop them,
it will be as easy<a class="footnote-reference brackets" href="#footjoke" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> as imagining a generic <em>m</em>-dimensional space,
and then assuming that, say, <em>m=7</em> or <em>42</em>.</p>
<p>This is exactly why data science relies
on automated methods for knowledge/pattern discovery. Thanks to them,
we can identify, describe, and analyse the structures that
might be present in the data, but cannot be perceived with our imperfect
senses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Linear and nonlinear dimensionality reduction techniques
can be applied to visualise some aspects of high-dimensional data
in the form of 2D (or 3D) plots.
In particular, the principal component analysis (PCA) finds
an <em>interesting</em> angle from which looking at the data might be
worth considering; see <a class="reference internal" href="330-relationship.html#sec-pca"><span class="std std-numref">Section 9.3</span></a>.</p>
</div>
</section>
<section id="scatterplot-matrix-pairplot">
<span id="sec-pairplot"></span><h3><span class="section-number">7.4.3. </span>Scatterplot Matrix (Pairplot)<a class="headerlink" href="#scatterplot-matrix-pairplot" title="Permalink to this heading">#</a></h3>
<p>We may also try depicting all pairs of selected variables
in the form of a scatterplot matrix; see <a class="reference internal" href="#fig-body-pairplot"><span class="std std-numref">Figure 7.4</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pairplot</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draws a scatterplot matrix, given:</span>
<span class="sd">    * X - data matrix,</span>
<span class="sd">    * labels - list of column names</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>

    <span class="n">k</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">,</span>
        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span>  <span class="c1"># diagonal</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">labels</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span>
                    <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;x-small&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">X</span><span class="p">[:,</span> <span class="n">j</span><span class="p">],</span> <span class="n">X</span><span class="p">[:,</span> <span class="n">i</span><span class="p">],</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">)</span>
</pre></div>
</div>
<p>And now:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">which</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">pairplot</span><span class="p">(</span><span class="n">body</span><span class="p">[:,</span> <span class="n">which</span><span class="p">],</span> <span class="n">body_columns</span><span class="p">[</span><span class="n">which</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id19">
<span id="fig-body-pairplot"></span><img alt="../_images/body-pairplot-7.png" src="../_images/body-pairplot-7.png" />
<figcaption>
<p><span class="caption-number">Figure 7.4 </span><span class="caption-text">Scatterplot matrix for selected columns in the <code class="docutils literal notranslate"><span class="pre">body</span></code> dataset</span><a class="headerlink" href="#id19" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Plotting variables against themselves is uninteresting (exercise:
what would that be?), therefore we printed out the feature labels
on the main diagonal.</p>
<p>A scatterplot matrix can be a valuable tool for identifying
interesting combinations of columns in our datasets.
We see that some pairs of variables are more “structured”
than others, e.g., hip circumference and weight are more or less
aligned on a straight line.
This is why in <a class="reference internal" href="330-relationship.html#chap-relationship"><span class="std std-numref">Chapter 9</span></a> we will be interested in
describing the possible relationships between the variables.</p>
<div class="proof proof-type-exercise" id="id20">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.10</span>
        
    </div><div class="proof-content">
<p>Create a pairplot where weight, arm circumference, and hip circumference are
on the log-scale.</p>
</div></div><div class="proof proof-type-exercise" id="id21">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.11</span>
        
    </div><div class="proof-content">
<p>(*)
Call <strong class="command">seaborn.pairplot</strong> to create a scatterplot matrix with
histograms on the main diagonal, thanks to which you will be able to
see how the <em>marginal distributions</em> are distributed.
Note that the matrix must, unfortunately, be converted to a
<strong class="program">pandas</strong> data frame first.</p>
</div></div></section>
</section>
<section id="exercises">
<h2><span class="section-number">7.5. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<div class="proof proof-type-exercise" id="id22">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.12</span>
        
    </div><div class="proof-content">
<p>What is the difference between
<code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>, <code class="docutils literal notranslate"><span class="pre">[[1,</span> <span class="pre">2,</span> <span class="pre">3]]</span></code>, and <code class="docutils literal notranslate"><span class="pre">[[1],</span> <span class="pre">[2],</span> <span class="pre">[3]]</span></code> in the context
of array creation?</p>
</div></div><div class="proof proof-type-exercise" id="id23">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.13</span>
        
    </div><div class="proof-content">
<p>If <code class="docutils literal notranslate"><span class="pre">A</span></code> is a matrix with 5 rows and 6 columns,
what is the difference between <code class="docutils literal notranslate"><span class="pre">A.reshape(6,</span> <span class="pre">5)</span></code> and <code class="docutils literal notranslate"><span class="pre">A.T</span></code>?</p>
</div></div><div class="proof proof-type-exercise" id="id24">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.14</span>
        
    </div><div class="proof-content">
<p>If <code class="docutils literal notranslate"><span class="pre">A</span></code> is a matrix with 5 rows and 6 columns,
what is the meaning of:
<code class="docutils literal notranslate"><span class="pre">A.reshape(-1)</span></code>, <code class="docutils literal notranslate"><span class="pre">A.reshape(3,</span> <span class="pre">-1)</span></code>,
<code class="docutils literal notranslate"><span class="pre">A.reshape(-1,</span> <span class="pre">3)</span></code>, <code class="docutils literal notranslate"><span class="pre">A.reshape(-1,</span> <span class="pre">-1)</span></code>,
<code class="docutils literal notranslate"><span class="pre">A.shape</span> <span class="pre">=</span> <span class="pre">(3,</span> <span class="pre">10)</span></code>, and <code class="docutils literal notranslate"><span class="pre">A.shape</span> <span class="pre">=</span> <span class="pre">(-1,</span> <span class="pre">3)</span></code>?</p>
</div></div><div class="proof proof-type-exercise" id="id25">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.15</span>
        
    </div><div class="proof-content">
<p>List some methods to add a new row and add a new column to an existing matrix.</p>
</div></div><div class="proof proof-type-exercise" id="id26">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.16</span>
        
    </div><div class="proof-content">
<p>Give some ways to visualise three-dimensional data.</p>
</div></div><div class="proof proof-type-exercise" id="id27">

    <div class="proof-title">
        <span class="proof-type">Exercise 7.17</span>
        
    </div><div class="proof-content">
<p>How can we set point opaqueness/transparency when drawing
a scatter plot?
Why would we be interested in this?</p>
</div></div><hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footsolveex" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Assuming we solved all the suggested exercises,
which we did, didn’t we? See Rule #3.</p>
</aside>
<aside class="footnote brackets" id="footrowmajor" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>(*) Sometimes referred to as a C-style array,
as opposed to Fortran-style which is used in, e.g., R.</p>
</aside>
<aside class="footnote brackets" id="footsparse" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">3</a><span class="fn-bracket">]</span></span>
<p>Such matrices are usually sparse, i.e.,
have many elements equal to 0. We have special, memory-efficient
data structures for handling these data; see
<strong class="program">scipy.sparse</strong> for more details as this goes beyond
the scope of our introductory course.</p>
</aside>
<aside class="footnote brackets" id="footcolumnwisevecs" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">4</a><span class="fn-bracket">]</span></span>
<p>Some textbooks assume that all
vectors are <em>column</em> vectors.</p>
</aside>
<aside class="footnote brackets" id="footjoke" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">5</a><span class="fn-bracket">]</span></span>
<p>This is an old funny joke that most funny mathematicians
find funny. Ha.</p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="320-transform-matrix.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">8. </span>Processing Multidimensional Data</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="230-distribution.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">6. </span>Continuous Probability Distributions</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              
              
              Copyright &#169; 2022–2023 by <a href="https://www.gagolewski.com">Marek Gagolewski</a>.
              Some rights reserved. Licensed under <a href='https://creativecommons.org/licenses/by-nc-nd/4.0/'>CC BY-NC-ND 4.0</a>.
              Built with <a href="https://sphinx-doc.org/">Sphinx</a>
              and a customised <a href="https://github.com/pradyunsg/furo">Furo</a> theme.
              Last updated on 2023-03-19T12:18:21+1100.
              This site will never display any ads: it is a non-profit project.
              It does not collect any data.
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            In this chapter
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">7. Multidimensional Numeric Data at a Glance</a><ul>
<li><a class="reference internal" href="#creating-matrices">7.1. Creating Matrices</a><ul>
<li><a class="reference internal" href="#reading-csv-files">7.1.1. Reading CSV Files</a></li>
<li><a class="reference internal" href="#enumerating-elements">7.1.2. Enumerating Elements</a></li>
<li><a class="reference internal" href="#repeating-arrays">7.1.3. Repeating  Arrays</a></li>
<li><a class="reference internal" href="#stacking-arrays">7.1.4. Stacking Arrays</a></li>
<li><a class="reference internal" href="#other-functions">7.1.5. Other Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reshaping-matrices">7.2. Reshaping Matrices</a></li>
<li><a class="reference internal" href="#mathematical-notation">7.3. Mathematical Notation</a><ul>
<li><a class="reference internal" href="#row-and-column-vectors">7.3.1. Row and Column Vectors</a></li>
<li><a class="reference internal" href="#transpose">7.3.2. Transpose</a></li>
<li><a class="reference internal" href="#identity-and-other-diagonal-matrices">7.3.3. Identity and Other Diagonal Matrices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#visualising-multidimensional-data">7.4. Visualising Multidimensional Data</a><ul>
<li><a class="reference internal" href="#d-data">7.4.1. 2D Data</a></li>
<li><a class="reference internal" href="#d-data-and-beyond">7.4.2. 3D Data and Beyond</a></li>
<li><a class="reference internal" href="#scatterplot-matrix-pairplot">7.4.3. Scatterplot Matrix (Pairplot)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises">7.5. Exercises</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/proof.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>